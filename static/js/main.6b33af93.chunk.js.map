{"version":3,"sources":["apollo.ts","Components/App/AppQueries.tsx","typed-component.ts","Components/BackArrow/BackArrow.tsx","Components/BackArrow/index.ts","Components/Header/Header.tsx","Components/Header/index.ts","Components/Form/index.ts","Components/Form/Form.tsx","Components/Input/Input.tsx","Components/Input/index.ts","Components/Button/Button.tsx","Components/Button/index.ts","Routes/AddPlace/AddPlacePresenter.tsx","Routes/AddPlace/AddPlaceQuery.ts","sharedQueries.ts","Routes/AddPlace/AddPlaceContainer.tsx","Routes/AddPlace/index.tsx","Components/PhotoInput/PhotoInput.tsx","Components/PhotoInput/index.ts","Routes/EditAccount/EditAccountPresenter.tsx","Routes/EditAccount/EditAccountQueries.ts","Routes/EditAccount/EditAccountContainer.tsx","Routes/EditAccount/index.tsx","Components/AddressBar/AddressBar.tsx","Components/AddressBar/index.ts","Routes/FindAddress/FindAddressPresenter.tsx","keys.ts","mapHelpers.ts","Routes/FindAddress/FindAddressContainer.tsx","Routes/FindAddress/index.tsx","Components/Menu/MenuPresenter.tsx","Components/Menu/MenuQueries.ts","Components/Menu/MenuContainer.tsx","Components/Menu/index.ts","Components/RidePopUp/RidePopUp.tsx","Components/RidePopUp/index.ts","Routes/Home/HomePresenter.tsx","Routes/Home/HomeQueries.ts","Routes/Home/HomeContainer.tsx","Routes/Home/index.tsx","Routes/Login/LoginPresenter.tsx","Routes/Login/index.tsx","countries.ts","Routes/PhoneLogin/PhoneLoginPresenter.tsx","Routes/PhoneLogin/PhoneQueries.ts","Routes/PhoneLogin/PhoneLoginContainer.tsx","Routes/PhoneLogin/index.tsx","Components/Place/PlacePresenter.tsx","Routes/Places/PlaceQueries.ts","Components/Place/PlaceContainer.tsx","Components/Place/index.ts","Routes/Places/PlacesPresenter.tsx","Routes/Places/PlacesContainer.tsx","Routes/Places/index.tsx","Routes/Ride/RidePresenter.tsx","Routes/Ride/RideQueries.ts","Routes/Ride/RideContainer.tsx","Routes/Ride/index.tsx","sharedQueries.local.tsx","Routes/Settings/SettingsPresenter.tsx","Routes/Settings/SettingsContainer.tsx","Routes/Settings/index.tsx","Routes/SocialLogin/SocialLoginPresenter.tsx","Routes/SocialLogin/SocialLoginQueries.ts","Routes/SocialLogin/SocialLoginContainer.tsx","Routes/SocialLogin/index.tsx","Routes/VerifyPhone/VerifyPhonePresenter.tsx","Routes/VerifyPhone/VerifyPhoneQueries.ts","Routes/VerifyPhone/VerifyPhoneContainer.tsx","Routes/VerifyPhone/index.tsx","Components/Message/Message.tsx","Components/Message/index.ts","Routes/Chat/ChatPresenter.tsx","Routes/Chat/ChatQuries.ts","Routes/Chat/ChatContainer.tsx","Routes/Chat/index.ts","Components/App/AppPresenter.tsx","theme.ts","Components/App/index.ts","Components/App/AppContainer.tsx","global-styles.ts","index.tsx","images/bg.png"],"names":["getToken","token","localStorage","getItem","cache","InMemoryCache","authMiddleware","ApolloLink","operation","forward","setContext","headers","httpLink","HttpLink","uri","wsLink","WebSocketLink","options","connectionParams","reconnect","combinedLinks","split","query","getMainDefinition","kind","errorLink","onError","graphQLErrors","networkError","map","message","locations","path","toast","error","localStateLink","withClientState","defaults","auth","__typename","isLoggedIn","Boolean","resolvers","Mutation","logUserIn","_","appCache","setItem","writeData","data","logUserOut","__","removeItem","client","ApolloClient","link","from","concat","IS_LOGGED_IN","gql","styledComponents","styled","default","createGlobalStyle","css","ThemeProvider","keyframes","Container","div","BackArrow","backTo","className","to","width","height","xmlns","fillRule","clipRule","d","header","Title","h2","Header","title","Form","submitFn","children","onSubmit","e","preventDefault","input","props","theme","greyColor","Input","placeholder","type","required","value","name","onChange","Button","onClick","disabled","ExtendedInput","ExtendedLink","Link","AddPlacePresenter","address","onInputChange","loading","pickedAddress","Fragment","ADD_PLACE","USER_PROFILE","GET_PLACES","AddPlaceMutation","AddPlaceContainer","event","a","target","setState","location","state","lat","lng","this","history","mutation","onCompleted","AddPlace","ok","success","setTimeout","push","refetchQueries","variables","isFav","addPlaceFn","React","Component","Image","label","PhotoInput","uploading","fileUrl","id","accept","htmlFor","src","ExtendedForm","EditAccountPresenter","firstName","lastName","email","profilePhoto","UPDATE_PROFILE","UpdateProfileMutation","ProfileQuery","Query","EditAccountContainer","updateFields","user","GetMyProfile","files","formData","FormData","append","String","Date","now","axios","post","secure_url","console","log","fetchPolicy","UpdateMyProfile","updateProfileFn","AddressBar","onBlur","Map","Center","ExtendedButton","FindAddressPresenter","mapRef","onInputBlur","onPickPlace","role","aria-label","ref","MAPS_KEY","geoCode","URL","error_message","results","firstPlace","formatted_address","geometry","reverseGeoCode","FindAddressContainer","handleGeoSuccess","position","coords","latitude","longitude","loadMap","reverseGeocodeAddress","handleGeoError","maps","google","mapNode","ReactDOM","findDOMNode","current","mapConfig","zoom","center","minZoom","disableDefaultUI","addListener","handleDragEnd","newCenter","getCenter","result","panTo","reversedAddress","pathname","createRef","navigator","geolocation","getCurrentPosition","GoogleApiWrapper","apiKey","SLink","img","Name","Rating","h5","Text","span","Grid","ToggleDriving","isDriving","yellowColor","greenColor","MenuPresenter","toggleDrivingFn","fullName","TOGGLE_DRIVING","ToggleDrivingMutation","MenuContainer","update","ToggleDrivingMode","readQuery","writeQuery","h4","Data","blueColor","Img","Passenger","RidePopUp","pickUpAddress","dropOffAddress","price","distance","passengerName","passengerPhoto","acceptRideFn","rideId","MenuButton","button","RequestButton","HomePresenter","isMenuOpen","toggleMenu","toAddress","onAddressSubmit","requestRideFn","nearbyRide","GetNearbyRide","ride","sidebar","Menu","open","onSetOpen","styles","background","zIndex","passenger","REPORT_LOCATION","GET_NEARBY_DRIVERS","REQUEST_RIDE","GET_NEARBY_RIDE","ACCEPT_RIDE","SUBSCRIBE_NEARBY_RIDES","NearbyQueries","RequestRideMutation","GetNearbyRides","AcceptRide","HomeContainer","userMarker","toMarker","directions","drivers","fromAddress","toLat","toLng","duration","undefined","getFromAddress","userMarkerOptions","icon","SymbolPath","CIRCLE","scale","Marker","setMap","watchPosition","handleGeoWatchSuccess","handleGeoWatchError","enableHighAccuracy","reportLocation","setPosition","toMarkerOptions","bounds","LatLngBounds","extend","fitBounds","createPath","DirectionsRenderer","suppressMarkers","polylineOptions","strokeColor","directionsService","DirectionsService","directionsOptions","destination","LatLng","origin","travelMode","TravelMode","DRIVING","route","handleRouteRequest","status","DirectionsStatus","OK","routes","legs","text","setDirections","setPrice","Number","parseFloat","replace","toFixed","handleNearbyDrivers","GetNearbyDrivers","driver","lastLat","lastLng","existingDriver","find","driverMarker","get","markerOptions","FORWARD_CLOSED_ARROW","newMarker","set","handleRideRequest","RequestRide","handleProfileQuery","handleRideAcceptance","UpdateRideStatus","skip","pollInterval","pickUpLat","pickUpLng","dropOffLat","dropOffLng","subscribeToMore","document","updateQuery","prev","subscriptionData","Object","assign","NearbyRideSubscription","graphql","bgImage","Logo","h1","Footer","Subtitle","FakeInput","PhoneLogin","Grey","SocialLogin","SocialLink","LoginPresenter","countries","dial_code","code","flag","BackArrowExtended","CountrySelect","select","CountryOption","option","form","PhoneLoginPresenter","countryCode","phoneNumber","country","index","key","viewBox","fill","PHONE_SIGN_IN","PhoneSignInMutation","PhoneLoginContainer","phoneMutation","phone","test","StartPhoneVerification","Place","Icon","Address","PlacePresenter","fav","onStarPress","EDIT_PLACE","FavMutation","PlaceContainer","placeId","editPlaceFn","PlacesPresenter","GetMyPlaces","places","length","place","PlacesQuery","PlacesContainer","Buttons","RidePresenter","GetRide","userData","updateRideFn","chatId","GET_RIDE","RIDE_SUBSCRIPTION","UPDATE_RIDE_STATUS","RideQuery","RideUpdate","RideContainer","match","params","RideStatusSubscription","window","href","LOG_USER_IN","LOG_USER_OUT","GridLink","Keys","Key","FakeLink","SettingsPresenter","userDataLoading","placesData","placesLoading","MiniProfileQuery","SettingsContainer","SocialLoginPresenter","loginCallback","appId","autoLoad","fields","callback","render","renderProps","FACEBOOK_CONNECT","LoginMutation","SocialLoginContainer","fbId","facebookMutation","response","first_name","last_name","accessToken","FacebookConnect","VerifyPhonePresenter","verificationKey","VERIFY_PHONE","VerifyMutation","VerifyPhoneContainer","CompletePhoneVerification","mine","Message","Chat","InputCont","ChatPresenter","GetChat","chat","messageText","messages","userId","GET_CHAT","SEND_MESSAGE","SUBSCRIBE_TO_MESSAGES","ChatQuery","SendMessageMutation","ChatContainer","sendMessageFn","MessageSubscription","LoggedOutRoutes","exact","component","Login","VerifyPhone","LoggedInRoutes","Home","Ride","EditAccount","Settings","Places","FindAddress","AppPresenter","AppContainer","draggable","GlobalStyle","reset","App","getElementById","module","exports"],"mappings":"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","file":"static/js/main.6b33af93.chunk.js","sourcesContent":["import { InMemoryCache } from \"apollo-cache-inmemory\";\r\nimport { ApolloClient } from \"apollo-client\";\r\nimport { ApolloLink, concat, Operation, split } from \"apollo-link\";\r\nimport { onError } from \"apollo-link-error\";\r\nimport { HttpLink } from \"apollo-link-http\";\r\nimport { withClientState } from \"apollo-link-state\";\r\nimport { WebSocketLink } from \"apollo-link-ws\";\r\nimport { getMainDefinition } from \"apollo-utilities\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst isDev = process.env.NODE_ENV === \"development\";\r\nconst getToken = () => {\r\n  const token = localStorage.getItem(\"jwt\");\r\n  if (token) {\r\n    return token;\r\n  } else {\r\n    return \"\";\r\n  }\r\n};\r\n\r\nconst cache = new InMemoryCache();\r\n\r\n// Apollo에서 API로 보내는 모든 request를 중간에서 가로채는 기능을 함.\r\nconst authMiddleware = new ApolloLink((operation: Operation, forward: any) => {\r\n  operation.setContext({\r\n    headers: {\r\n      \"X-JWT\": getToken(),\r\n    },\r\n  });\r\n\r\n  // request를 가로챈 후 작업을 끝내면, 다음 middleware로 진행시킴(API에 도달할 때 까지)\r\n  return forward(operation);\r\n});\r\n\r\nconst httpLink = new HttpLink({\r\n  uri: isDev\r\n    ? \"http://localhost:4000/graphql\"\r\n    : \"https://nuber-server-1.herokuapp.com/graphql\",\r\n});\r\n\r\nconst wsLink = new WebSocketLink({\r\n  options: {\r\n    connectionParams: {\r\n      \"X-JWT\": getToken(),\r\n    },\r\n    reconnect: true,\r\n  },\r\n  uri: isDev\r\n    ? \"ws://localhost:4000/subscription\"\r\n    : \"ws://nuber-server-1.herokuapp.com/subscription\",\r\n});\r\n\r\n// apollo가 스스로 subscription인지 아니면 그냥 http요청인지 판단할 수 없기때문에 다음 함수를 통해 알려줌\r\n// spilit(operation, left, right) : operation이 true이면, left를 실행하고 false면 right를 실행함\r\n// back-end의 withFilter와 비슷함\r\nconst combinedLinks = split(\r\n  ({ query }) => {\r\n    const { kind, operation }: any = getMainDefinition(query);\r\n    return kind === \"OperationDefinition\" && operation === \"subscription\";\r\n  },\r\n  wsLink,\r\n  httpLink\r\n);\r\n\r\n// Error발생시에 대한 처리 함수\r\nconst errorLink = onError(({ graphQLErrors, networkError }) => {\r\n  if (graphQLErrors) {\r\n    graphQLErrors.map(({ message, locations, path }) => {\r\n      toast.error(`Unexpected error : ${message}`);\r\n      return 0;\r\n    });\r\n  }\r\n\r\n  if (networkError) {\r\n    toast.error(`Network error : ${networkError}`);\r\n  }\r\n});\r\n\r\nconst localStateLink = withClientState({\r\n  cache,\r\n  defaults: {\r\n    auth: {\r\n      __typename: \"Auth\",\r\n      isLoggedIn: Boolean(getToken()),\r\n    },\r\n  },\r\n  resolvers: {\r\n    Mutation: {\r\n      logUserIn: (_, { token }, { cache: appCache }) => {\r\n        localStorage.setItem(\"jwt\", token);\r\n        appCache.writeData({\r\n          data: {\r\n            auth: {\r\n              __typename: \"Auth\",\r\n              isLoggedIn: true,\r\n            },\r\n          },\r\n        });\r\n        return null;\r\n      },\r\n      logUserOut: (_, __, { cache: appCache }) => {\r\n        localStorage.removeItem(\"jwt\");\r\n        appCache.writeData({\r\n          data: {\r\n            auth: {\r\n              __typename: \"Auth\",\r\n              isLoggedIn: false,\r\n            },\r\n          },\r\n        });\r\n        return null;\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\nconst client = new ApolloClient({\r\n  cache,\r\n  link: ApolloLink.from([\r\n    errorLink,\r\n    localStateLink,\r\n    concat(authMiddleware, combinedLinks),\r\n  ]),\r\n});\r\n\r\n// link는 apolloClient가 resolver와 어떻게 상호작용하는지에 대한 것\r\n\r\nexport default client;\r\n","import { gql } from \"apollo-boost\";\r\nexport const IS_LOGGED_IN = gql`\r\n  {\r\n    auth {\r\n      isLoggedIn @client\r\n    }\r\n  }\r\n`;\r\n","import * as styledComponents from \"styled-components\";\r\nimport { ThemedStyledComponentsModule } from \"styled-components\";\r\n\r\ninterface IThemeInterface {\r\n  blueColor: string;\r\n  greyColor: string;\r\n}\r\n\r\nconst {\r\n  default: styled,\r\n  css,\r\n  createGlobalStyle,\r\n  keyframes,\r\n  ThemeProvider\r\n} = styledComponents as ThemedStyledComponentsModule<IThemeInterface>;\r\nexport { css, createGlobalStyle, keyframes, ThemeProvider };\r\nexport default styled;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Container = styled.div`\r\n  transform: scale(0.8);\r\n`;\r\n\r\ninterface IProps {\r\n  backTo: string;\r\n  className?: string;\r\n}\r\n\r\n/* \r\n    typescript에서는 한 컴포넌트를 extend 하기 위해 className이 필수임 \r\n    나중에 styled-component에서 BackArrow를 확장한 컴포넌트를 만들기 위해 BackArrow의 prop에 className을 추가하였음\r\n*/\r\n\r\nconst BackArrow: React.FC<IProps> = ({ backTo, className }) => (\r\n  <Container className={className}>\r\n    <Link to={backTo}>\r\n      <svg\r\n        width=\"24\"\r\n        height=\"24\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n      >\r\n        <path d=\"M20 .755l-14.374 11.245 14.374 11.219-.619.781-15.381-12 15.391-12 .609.755z\" />\r\n      </svg>\r\n    </Link>\r\n  </Container>\r\n);\r\n\r\nexport default BackArrow;\r\n","import BackArrow from \"./BackArrow\";\r\nexport default BackArrow;\r\n","import React from \"react\";\r\nimport styled from \"../../typed-component\";\r\nimport BackArrow from \"../BackArrow\";\r\n\r\nconst Container = styled.header`\r\n  background-color: black;\r\n  color: white;\r\n  display: flex;\r\n  height: 50px;\r\n  font-size: 20px;\r\n  font-weight: 300;\r\n  align-items: center;\r\n  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.19), 0 6px 6px rgba(0, 0, 0, 0.23);\r\n  & svg {\r\n    fill: white;\r\n  }\r\n  margin-bottom: 50px;\r\n  padding: 0 10px;\r\n`;\r\n\r\nconst Title = styled.h2`\r\n  margin-left: 10px;\r\n`;\r\n\r\ninterface IProps {\r\n  title: string;\r\n  backTo?: string;\r\n}\r\n\r\nconst Header: React.FC<IProps> = ({ title, backTo }) => (\r\n  <Container>\r\n    {backTo && <BackArrow backTo={backTo} />}\r\n    <Title>{title}</Title>\r\n  </Container>\r\n);\r\n\r\nexport default Header;\r\n","import Header from \"./Header\";\r\nexport default Header;\r\n","import Form from \"./Form\";\r\nexport default Form;\r\n","import React from \"react\";\r\n\r\ninterface IProps {\r\n  submitFn: any;\r\n  className?: string;\r\n}\r\n\r\nconst Form: React.FC<IProps> = ({ submitFn, className, children }) => (\r\n  <form\r\n    className={className}\r\n    onSubmit={e => {\r\n      e.preventDefault();\r\n      submitFn();\r\n    }}\r\n  >\r\n    {children}\r\n  </form>\r\n);\r\n\r\nexport default Form;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Container = styled.input`\r\n  border: none;\r\n  border-bottom: 2px solid ${props => props.theme.greyColor};\r\n  font-size: 20px;\r\n  width: 100%;\r\n  padding-bottom: 10px;\r\n  font-weight: 500;\r\n  transition: border-bottom 0.1s linear;\r\n  &:-webkit-autofill {\r\n    box-shadow: 0 0 0px 1000px white inset !important;\r\n  }\r\n  &:focus {\r\n    border-bottom-color: #2c3e50;\r\n    outline: none;\r\n  }\r\n  &::placeholder {\r\n    color: ${props => props.theme.greyColor};\r\n    font-weight: 300;\r\n  }\r\n`;\r\n\r\ninterface IProps {\r\n  placeholder?: string;\r\n  type?: string;\r\n  required?: boolean;\r\n  value: any;\r\n  name?: string;\r\n  onChange: any;\r\n  className?: string;\r\n}\r\n\r\nconst Input: React.FC<IProps> = ({\r\n  placeholder = \"\",\r\n  type = \"text\",\r\n  required = true,\r\n  value,\r\n  name = \"\",\r\n  onChange,\r\n  className\r\n}) => (\r\n  <Container\r\n    onChange={onChange}\r\n    name={name}\r\n    type={type}\r\n    required={required}\r\n    value={value}\r\n    placeholder={placeholder}\r\n    className={className}\r\n  />\r\n);\r\n\r\nexport default Input;\r\n","import Input from \"./Input\";\r\nexport default Input;\r\n","import React from \"react\";\r\nimport styled from \"../../typed-component\";\r\n\r\nconst Container = styled.input`\r\n  width: 100%;\r\n  background-color: black;\r\n  color: white;\r\n  text-transform: uppercase;\r\n  padding: 15px 0;\r\n  font-size: 16px;\r\n  border: 0;\r\n  cursor: pointer;\r\n  font-weight: 500;\r\n  text-align: center;\r\n  &:active,\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n  &:disabled {\r\n    opacity: 0.8;\r\n  }\r\n`;\r\n\r\ninterface IProps {\r\n  value: string;\r\n  onClick: any;\r\n  disabled?: boolean;\r\n  className?: string;\r\n}\r\n\r\nconst Button: React.FC<IProps> = ({\r\n  value,\r\n  onClick,\r\n  disabled = false,\r\n  className\r\n}) => (\r\n  <Container\r\n    value={value}\r\n    disabled={disabled}\r\n    onClick={onClick}\r\n    className={className}\r\n    type={\"submit\"}\r\n  />\r\n);\r\n\r\nexport default Button;\r\n","import Button from \"./Button\";\r\nexport default Button;\r\n","import React from \"react\";\r\nimport Helmet from \"react-helmet\";\r\nimport styled from \"../../typed-component\";\r\nimport Header from \"src/Components/Header\";\r\nimport Form from \"src/Components/Form\";\r\nimport Input from \"src/Components/Input\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Button from \"src/Components/Button\";\r\nimport { MutationFn } from \"react-apollo\";\r\nimport { addPlace, addPlaceVariables } from \"../../types/api\";\r\n\r\nconst Container = styled.div`\r\n  padding: 0 40px;\r\n`;\r\n\r\nconst ExtendedInput = styled(Input)`\r\n  margin-bottom: 40px;\r\n`;\r\n\r\nconst ExtendedLink = styled(Link)`\r\n  text-decoration: underline;\r\n  margin-bottom: 20px;\r\n  display: block;\r\n`;\r\n\r\ninterface IProps {\r\n  address: string;\r\n  name: string;\r\n  onInputChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n  loading: boolean;\r\n  onSubmit: MutationFn<addPlace, addPlaceVariables>;\r\n  pickedAddress: boolean;\r\n}\r\n\r\nconst AddPlacePresenter: React.FC<IProps> = ({\r\n  address,\r\n  name,\r\n  onInputChange,\r\n  loading,\r\n  onSubmit,\r\n  pickedAddress\r\n}) => (\r\n  <React.Fragment>\r\n    <Helmet>\r\n      <title>Add Place | Nuber</title>\r\n    </Helmet>\r\n    <Header title={\"Add Place\"} backTo={\"/\"} />\r\n    <Container>\r\n      <Form submitFn={onSubmit}>\r\n        <ExtendedInput\r\n          type={\"text\"}\r\n          placeholder={\"Name\"}\r\n          value={name}\r\n          name={\"name\"}\r\n          onChange={onInputChange}\r\n        />\r\n        <ExtendedInput\r\n          type={\"text\"}\r\n          placeholder={\"Address\"}\r\n          value={address}\r\n          name={\"address\"}\r\n          onChange={onInputChange}\r\n        />\r\n        <ExtendedLink to={\"/find-address\"}>Pick place from map</ExtendedLink>\r\n        {pickedAddress && (\r\n          <Button\r\n            onClick={null}\r\n            value={loading ? \"Adding place\" : \"Add Place\"}\r\n          />\r\n        )}\r\n      </Form>\r\n    </Container>\r\n  </React.Fragment>\r\n);\r\n\r\nexport default AddPlacePresenter;\r\n","import { gql } from \"apollo-boost\";\r\n\r\nexport const ADD_PLACE = gql`\r\n  mutation addPlace(\r\n    $name: String!\r\n    $lat: Float!\r\n    $lng: Float!\r\n    $address: String!\r\n    $isFav: Boolean!\r\n  ) {\r\n    AddPlace(\r\n      name: $name\r\n      lat: $lat\r\n      lng: $lng\r\n      address: $address\r\n      isFav: $isFav\r\n    ) {\r\n      ok\r\n      error\r\n    }\r\n  }\r\n`;\r\n","import { gql } from \"apollo-boost\";\r\n\r\nexport const USER_PROFILE = gql`\r\n  query userProfile {\r\n    GetMyProfile {\r\n      ok\r\n      error\r\n      user {\r\n        id\r\n        profilePhoto\r\n        firstName\r\n        lastName\r\n        email\r\n        fullName\r\n        isDriving\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_PLACES = gql`\r\n  query getPlaces {\r\n    GetMyPlaces {\r\n      ok\r\n      error\r\n      places {\r\n        id\r\n        name\r\n        address\r\n        isFav\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport AddPlacePresenter from \"./AddPlacePresenter\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport { Mutation } from \"react-apollo\";\r\nimport { addPlace, addPlaceVariables } from \"../../types/api\";\r\nimport { ADD_PLACE } from \"./AddPlaceQuery\";\r\nimport { GET_PLACES } from \"src/sharedQueries\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Location } from \"history\";\r\n\r\ninterface IState {\r\n  address: string;\r\n  name: string;\r\n  lat: number;\r\n  lng: number;\r\n}\r\n\r\ninterface MyState {\r\n  lat?: number;\r\n  lng?: number;\r\n  address?: string;\r\n}\r\n\r\ninterface LProps extends Location<MyState> {\r\n  state: MyState;\r\n}\r\n\r\ninterface IProps extends RouteComponentProps<any> {\r\n  location: LProps;\r\n}\r\n\r\nclass AddPlaceMutation extends Mutation<addPlace, addPlaceVariables> {}\r\n\r\nclass AddPlaceContainer extends React.Component<IProps, IState> {\r\n  constructor(props: IProps) {\r\n    super(props);\r\n    const {\r\n      location: { state: { address = \"\", lat = 0, lng = 0 } = {} } = {}\r\n    } = props;\r\n\r\n    this.state = {\r\n      address: address || \"\",\r\n      lat: lat || 0,\r\n      lng: lng || 0,\r\n      name: \"\"\r\n    };\r\n  }\r\n\r\n  public render() {\r\n    const { address, name, lat, lng } = this.state;\r\n    const { history } = this.props;\r\n\r\n    return (\r\n      <AddPlaceMutation\r\n        mutation={ADD_PLACE}\r\n        onCompleted={data => {\r\n          const { AddPlace } = data;\r\n          if (AddPlace.ok) {\r\n            toast.success(\"Place added\");\r\n            setTimeout(() => {\r\n              history.push(\"/places\");\r\n            }, 2000);\r\n          } else {\r\n            toast.error(AddPlace.error);\r\n          }\r\n        }}\r\n        refetchQueries={[{ query: GET_PLACES }]}\r\n        variables={{ name, address, lat, lng, isFav: false }}\r\n      >\r\n        {(addPlaceFn, { loading }) => {\r\n          return (\r\n            <AddPlacePresenter\r\n              address={address}\r\n              name={name}\r\n              onInputChange={this.onInputChange}\r\n              loading={loading}\r\n              onSubmit={addPlaceFn}\r\n              pickedAddress={lat !== 0 && lng !== 0}\r\n            />\r\n          );\r\n        }}\r\n      </AddPlaceMutation>\r\n    );\r\n  }\r\n\r\n  public onInputChange: React.ChangeEventHandler<\r\n    HTMLInputElement\r\n  > = async event => {\r\n    const {\r\n      target: { name, value }\r\n    } = event;\r\n\r\n    this.setState({\r\n      [name]: value\r\n    } as any);\r\n  };\r\n}\r\n\r\nexport default AddPlaceContainer;\r\n","import AddPlaceContainer from \"./AddPlaceContainer\";\r\nexport default AddPlaceContainer;\r\n","import React from \"react\";\r\nimport styled from \"../../typed-component\";\r\n\r\nconst Container = styled.div``;\r\n\r\nconst Image = styled.label`\r\n  cursor: pointer;\r\n  height: 80px;\r\n  width: 80px;\r\n  border: 2px solid black;\r\n  display: block;\r\n  border-radius: 50%;\r\n  margin-bottom: 35px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 28px;\r\n  overflow: hidden;\r\n  & img {\r\n    width: 80px;\r\n    height: 80px;\r\n  }\r\n`;\r\n\r\nconst Input = styled.input`\r\n  color: white;\r\n  opacity: 0;\r\n  height: 1px;\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`;\r\n\r\ninterface IProps {\r\n  uploading: boolean;\r\n  fileUrl: string;\r\n  onChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n}\r\n\r\nconst PhotoInput: React.FC<IProps> = ({ uploading, fileUrl, onChange }) => (\r\n  <Container>\r\n    <Input id={\"photo\"} type=\"file\" accept=\"image/*\" onChange={onChange} />\r\n    <Image htmlFor=\"photo\">\r\n      {!uploading && \" \"}\r\n      {uploading && \"⏰\"}\r\n      {!uploading && <img src={fileUrl} />}\r\n    </Image>\r\n  </Container>\r\n);\r\n\r\nexport default PhotoInput;\r\n","import PhotoInput from \"./PhotoInput\";\r\nexport default PhotoInput;\r\n","import React from \"react\";\r\nimport styled from \"../../typed-component\";\r\nimport Form from \"src/Components/Form\";\r\nimport Input from \"src/Components/Input\";\r\nimport { MutationFn } from \"react-apollo\";\r\nimport Helmet from \"react-helmet\";\r\nimport Header from \"src/Components/Header\";\r\nimport Button from \"src/Components/Button\";\r\nimport { updateProfile, updateProfileVariables } from \"../../types/api\";\r\nimport PhotoInput from \"src/Components/PhotoInput\";\r\n\r\nconst Container = styled.div``;\r\n\r\nconst ExtendedForm = styled(Form)`\r\n  padding: 0px 40px;\r\n`;\r\n\r\nconst ExtendedInput = styled(Input)`\r\n  margin-bottom: 30px;\r\n`;\r\n\r\ninterface IProps {\r\n  firstName: string;\r\n  lastName: string;\r\n  email: string;\r\n  profilePhoto: string;\r\n  onInputChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n  onSubmit: MutationFn<updateProfile, updateProfileVariables>;\r\n  loading: boolean;\r\n  uploading: boolean;\r\n}\r\n\r\nconst EditAccountPresenter: React.FC<IProps> = ({\r\n  firstName,\r\n  lastName,\r\n  email,\r\n  profilePhoto,\r\n  onInputChange,\r\n  onSubmit,\r\n  loading,\r\n  uploading\r\n}) => {\r\n  return (\r\n    <Container>\r\n      <Helmet>\r\n        <title>Edit Account | Nuber</title>\r\n      </Helmet>\r\n      <Header title={\"Edit Account\"} backTo={\"/\"} />\r\n      <ExtendedForm submitFn={onSubmit}>\r\n        <PhotoInput\r\n          uploading={uploading}\r\n          fileUrl={profilePhoto}\r\n          onChange={onInputChange}\r\n        />\r\n        <ExtendedInput\r\n          onChange={onInputChange}\r\n          type={\"text\"}\r\n          value={firstName}\r\n          placeholder={\"First name\"}\r\n          name={\"firstName\"}\r\n        />\r\n        <ExtendedInput\r\n          onChange={onInputChange}\r\n          type={\"text\"}\r\n          value={lastName}\r\n          placeholder={\"Last name\"}\r\n          name={\"lastName\"}\r\n        />\r\n        <ExtendedInput\r\n          onChange={onInputChange}\r\n          type={\"email\"}\r\n          value={email}\r\n          placeholder={\"Email name\"}\r\n          name={\"email\"}\r\n        />\r\n        <Button onClick={null} value={loading ? \"Loading\" : \"Update\"} />\r\n      </ExtendedForm>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default EditAccountPresenter;\r\n","import { gql } from \"apollo-boost\";\r\n\r\nexport const UPDATE_PROFILE = gql`\r\n  mutation updateProfile(\r\n    $firstName: String!\r\n    $lastName: String!\r\n    $email: String!\r\n    $profilePhoto: String!\r\n  ) {\r\n    UpdateMyProfile(\r\n      firstName: $firstName\r\n      lastName: $lastName\r\n      email: $email\r\n      profilePhoto: $profilePhoto\r\n    ) {\r\n      ok\r\n      error\r\n    }\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport {\r\n  updateProfile,\r\n  updateProfileVariables,\r\n  userProfile\r\n} from \"../../types/api\";\r\nimport EditAccountPresenter from \"./EditAccountPresenter\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport { Mutation, Query } from \"react-apollo\";\r\nimport { UPDATE_PROFILE } from \"./EditAccountQueries\";\r\nimport { USER_PROFILE } from \"src/sharedQueries\";\r\nimport { toast } from \"react-toastify\";\r\nimport axios from \"axios\";\r\n\r\ninterface IState {\r\n  firstName: string;\r\n  lastName: string;\r\n  email: string;\r\n  profilePhoto: string;\r\n  uploading: boolean;\r\n}\r\n\r\ninterface IProps extends RouteComponentProps<any> {}\r\n\r\nclass UpdateProfileMutation extends Mutation<\r\n  updateProfile,\r\n  updateProfileVariables\r\n> {}\r\n\r\nclass ProfileQuery extends Query<userProfile> {}\r\n\r\nclass EditAccountContainer extends React.Component<IProps, IState> {\r\n  public state = {\r\n    email: \"\",\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    profilePhoto: \"\",\r\n    uploading: false\r\n  };\r\n\r\n  public updateFields = (data: {} | userProfile) => {\r\n    if (\"GetMyProfile\" in data) {\r\n      const {\r\n        GetMyProfile: { user }\r\n      } = data;\r\n      if (user) {\r\n        const { firstName, lastName, email, profilePhoto } = user;\r\n        this.setState({\r\n          firstName,\r\n          lastName,\r\n          email,\r\n          profilePhoto\r\n        } as any);\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { email, firstName, lastName, profilePhoto, uploading } = this.state;\r\n\r\n    return (\r\n      <ProfileQuery\r\n        query={USER_PROFILE}\r\n        fetchPolicy={\"cache-and-network\"}\r\n        onCompleted={this.updateFields}\r\n      >\r\n        {() => (\r\n          <UpdateProfileMutation\r\n            mutation={UPDATE_PROFILE}\r\n            refetchQueries={[{ query: USER_PROFILE }]}\r\n            onCompleted={data => {\r\n              const { UpdateMyProfile } = data;\r\n              if (UpdateMyProfile.ok) {\r\n                toast.success(\"Profile Updated!\");\r\n              } else if (UpdateMyProfile.error) {\r\n                toast.error(UpdateMyProfile.error);\r\n              }\r\n            }}\r\n            variables={{ firstName, lastName, email, profilePhoto }}\r\n          >\r\n            {(updateProfileFn, { loading }) => (\r\n              <EditAccountPresenter\r\n                email={email}\r\n                firstName={firstName}\r\n                lastName={lastName}\r\n                profilePhoto={profilePhoto}\r\n                onInputChange={this.onInputChange}\r\n                loading={loading}\r\n                onSubmit={updateProfileFn}\r\n                uploading={uploading}\r\n              />\r\n            )}\r\n          </UpdateProfileMutation>\r\n        )}\r\n      </ProfileQuery>\r\n    );\r\n  }\r\n\r\n  public onInputChange: React.ChangeEventHandler<\r\n    HTMLInputElement\r\n  > = async event => {\r\n    const {\r\n      target: { name, value, files }\r\n    } = event;\r\n\r\n    if (files) {\r\n      this.setState({\r\n        uploading: true\r\n      });\r\n      const formData = new FormData();\r\n      formData.append(\"file\", files[0]);\r\n      formData.append(\"api_key\", \"342169661374587\");\r\n      formData.append(\"upload_preset\", \"af3cbvcg\");\r\n      formData.append(\"timestamp\", String(Date.now() / 1000));\r\n      const {\r\n        data: { secure_url }\r\n      } = await axios.post(\r\n        \"https://api.cloudinary.com/v1_1/dpmdjkgxo/image/upload\",\r\n        formData\r\n      );\r\n\r\n      if (secure_url) {\r\n        this.setState({\r\n          uploading: false,\r\n          profilePhoto: secure_url\r\n        });\r\n      }\r\n      console.log(secure_url);\r\n    }\r\n\r\n    this.setState({\r\n      [name]: value\r\n    } as any);\r\n  };\r\n}\r\n\r\nexport default EditAccountContainer;\r\n","import EditAccountContainer from \"./EditAccountContainer\";\r\nexport default EditAccountContainer;\r\n","import React from \"react\";\r\nimport styled from \"../../typed-component\";\r\n\r\nconst Container = styled.input`\r\n  position: absolute;\r\n  background-color: white;\r\n  border-radius: 5px;\r\n  -webkit-appearance: none;\r\n  z-index: 2;\r\n  width: 80%;\r\n  border: 0;\r\n  font-size: 16px;\r\n  padding: 15px 10px;\r\n  box-shadow: 0 18px 35px rgba(50, 50, 93, 0.1), 0 8px 15px rgba(0, 0, 0, 0.07);\r\n  margin: auto;\r\n  top: 10px;\r\n  left: 0;\r\n  right: 0;\r\n  height: auto;\r\n`;\r\n\r\ninterface IProps {\r\n  value: string;\r\n  onBlur: () => void;\r\n  onChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n  name: string;\r\n}\r\n\r\nconst AddressBar: React.FC<IProps> = ({ value, onBlur, onChange, name }) => {\r\n  return (\r\n    <Container\r\n      value={value}\r\n      onBlur={onBlur}\r\n      onChange={onChange}\r\n      name={name}\r\n      placeholder={\"Type address\"}\r\n    />\r\n  );\r\n};\r\n\r\nexport default AddressBar;\r\n","import AddressBar from \"./AddressBar\";\r\nexport default AddressBar;\r\n","import React from \"react\";\r\nimport Helmet from \"react-helmet\";\r\nimport styled from \"../../typed-component\";\r\nimport AddressBar from \"src/Components/AddressBar\";\r\nimport Button from \"src/Components/Button\";\r\n\r\nconst Map = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  height: 100%;\r\n  width: 100%;\r\n  z-index: 1;\r\n`;\r\n\r\nconst Center = styled.div`\r\n  position: absolute;\r\n  width: 40px;\r\n  height: 40px;\r\n  z-index: 2;\r\n  font-size: 30px;\r\n  margin: auto;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n`;\r\n\r\nconst ExtendedButton = styled(Button)`\r\n  position: absolute;\r\n  bottom: 50px;\r\n  left: 0;\r\n  right: 0;\r\n  margin: auto;\r\n  z-index: 10;\r\n  height: auto;\r\n  width: 80%;\r\n`;\r\n\r\ninterface IProps {\r\n  mapRef: any;\r\n  onInputBlur: () => void;\r\n  onInputChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n  address: string;\r\n  onPickPlace: () => void;\r\n}\r\n\r\nclass FindAddressPresenter extends React.Component<IProps> {\r\n  public render() {\r\n    const {\r\n      mapRef,\r\n      onInputBlur,\r\n      onInputChange,\r\n      address,\r\n      onPickPlace\r\n    } = this.props;\r\n    return (\r\n      <div>\r\n        <Helmet>\r\n          <title>Find Address | Nuber</title>\r\n        </Helmet>\r\n        <AddressBar\r\n          value={address}\r\n          onBlur={onInputBlur}\r\n          onChange={onInputChange}\r\n          name={\"address\"}\r\n        />\r\n        <ExtendedButton value=\"Pick this place\" onClick={onPickPlace} />\r\n        <Center>\r\n          <span role=\"img\" aria-label=\"center pin\">\r\n            📍\r\n          </span>\r\n        </Center>\r\n        <Map ref={mapRef} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FindAddressPresenter;\r\n","export const CLOUDINARY_KEY = \"342169661374587\";\r\nexport const CLOUDINARY_PRESET = \"af3cbvcg\";\r\nexport const MAPS_KEY = \"AIzaSyBPKTbsI2-vmEUZA_vghAUpmA_RU6uTVG4\";\r\n","import { MAPS_KEY } from \"./keys\";\r\nimport axios from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nexport const geoCode = async (address: string) => {\r\n  const URL = `https://maps.googleapis.com/maps/api/geocode/json?address=${address}&key=${MAPS_KEY}`;\r\n  const { data } = await axios(URL);\r\n\r\n  if (!data.error_message) {\r\n    const { results } = data;\r\n    const firstPlace = results[0];\r\n    const {\r\n      formatted_address,\r\n      geometry: {\r\n        location: { lat, lng }\r\n      }\r\n    } = firstPlace;\r\n    return { formatted_address, lat, lng };\r\n  } else {\r\n    toast.error(data.error_message);\r\n    return false;\r\n  }\r\n};\r\n\r\nexport const reverseGeoCode = async (lat: number, lng: number) => {\r\n  const URL = `https://maps.googleapis.com/maps/api/geocode/json?latlng=${lat},${lng}&key=${MAPS_KEY}`;\r\n  const { data } = await axios(URL);\r\n\r\n  if (!data.error_message) {\r\n    const { results } = data;\r\n    const firstPlace = results[0];\r\n    if (!firstPlace) {\r\n      return false;\r\n    }\r\n    const address = firstPlace.formatted_address;\r\n    return address;\r\n  } else {\r\n    toast.error(data.error_message);\r\n    return false;\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport FindAddressPresenter from \"./FindAddressPresenter\";\r\nimport { reverseGeoCode, geoCode } from \"src/mapHelpers\";\r\n\r\ninterface IState {\r\n  lat: number;\r\n  lng: number;\r\n  address: string;\r\n}\r\n\r\ninterface IProps extends RouteComponentProps<any> {\r\n  google: any;\r\n}\r\n\r\nclass FindAddressContainer extends React.Component<IProps, IState> {\r\n  public mapRef: any;\r\n  public map: google.maps.Map | any;\r\n  public state = {\r\n    address: \"\",\r\n    lat: 0,\r\n    lng: 0\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.mapRef = React.createRef();\r\n  }\r\n\r\n  public componentDidMount() {\r\n    navigator.geolocation.getCurrentPosition(\r\n      this.handleGeoSuccess,\r\n      this.handleGeoError\r\n    );\r\n  }\r\n\r\n  public handleGeoSuccess: PositionCallback = (position: Position) => {\r\n    const {\r\n      coords: { latitude: lat, longitude: lng }\r\n    } = position;\r\n\r\n    this.setState({\r\n      lat,\r\n      lng\r\n    });\r\n    this.loadMap(lat, lng);\r\n    this.reverseGeocodeAddress(lat, lng);\r\n  };\r\n\r\n  public handleGeoError: PositionErrorCallback = () => {\r\n    console.log(\"No location\");\r\n  };\r\n\r\n  public loadMap = (lat, lng) => {\r\n    const { google } = this.props;\r\n    const maps = google.maps;\r\n    const mapNode = ReactDOM.findDOMNode(this.mapRef.current);\r\n    const mapConfig: google.maps.MapOptions = {\r\n      zoom: 11,\r\n      center: {\r\n        lat,\r\n        lng\r\n      },\r\n      minZoom: 8,\r\n      disableDefaultUI: true\r\n    };\r\n    this.map = new maps.Map(mapNode, mapConfig);\r\n    this.map.addListener(\"dragend\", this.handleDragEnd);\r\n  };\r\n\r\n  public handleDragEnd = async () => {\r\n    const newCenter = this.map.getCenter();\r\n    const lat = newCenter.lat();\r\n    const lng = newCenter.lng();\r\n\r\n    this.setState({ lat, lng });\r\n    this.reverseGeocodeAddress(lat, lng);\r\n  };\r\n\r\n  public onInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const {\r\n      target: { name, value }\r\n    } = event;\r\n\r\n    this.setState({\r\n      [name]: value\r\n    } as any);\r\n  };\r\n\r\n  public onInputBlur = async () => {\r\n    const { address } = this.state;\r\n    const result = await geoCode(address);\r\n    if (result !== false) {\r\n      const { lat, lng, formatted_address } = result;\r\n      this.setState({\r\n        lat,\r\n        lng,\r\n        address: formatted_address\r\n      });\r\n\r\n      this.map.panTo({ lat, lng });\r\n    }\r\n  };\r\n\r\n  public reverseGeocodeAddress = async (lat: number, lng: number) => {\r\n    const reversedAddress = await reverseGeoCode(lat, lng);\r\n    if (reversedAddress !== false) {\r\n      this.setState({ address: reversedAddress });\r\n    }\r\n  };\r\n\r\n  public onPickPlace = () => {\r\n    const { address, lat, lng } = this.state;\r\n    const { history } = this.props;\r\n    history.push({\r\n      pathname: \"/add-place\",\r\n      state: {\r\n        lat,\r\n        lng,\r\n        address\r\n      }\r\n    });\r\n    console.log(address, lat, lng);\r\n  };\r\n\r\n  public render() {\r\n    const { address } = this.state;\r\n\r\n    return (\r\n      <FindAddressPresenter\r\n        mapRef={this.mapRef}\r\n        onInputBlur={this.onInputBlur}\r\n        onInputChange={this.onInputChange}\r\n        address={address}\r\n        onPickPlace={this.onPickPlace}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default FindAddressContainer;\r\n","import { GoogleApiWrapper } from \"google-maps-react\";\r\nimport FindAddressContainer from \"./FindAddressContainer\";\r\nimport { MAPS_KEY } from \"../../keys\";\r\nexport default GoogleApiWrapper({\r\n  apiKey: MAPS_KEY\r\n})(FindAddressContainer);\r\n","import React from \"react\";\r\nimport styled from \"../../typed-component\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { userProfile } from \"src/types/api\";\r\nimport { MutationFn } from \"react-apollo\";\r\n\r\nconst Container = styled.div`\r\n  height: 100%;\r\n`;\r\n\r\nconst Header = styled.div`\r\n  background-color: black;\r\n  height: 20%;\r\n  margin-bottom: 30px;\r\n  padding: 0 15px;\r\n  color: white;\r\n`;\r\n\r\nconst SLink = styled(Link)`\r\n  font-size: 22px;\r\n  display: block;\r\n  margin-left: 15px;\r\n  margin-bottom: 25px;\r\n  font-weight: 400;\r\n`;\r\n\r\nconst Image = styled.img`\r\n  height: 80px;\r\n  width: 80px;\r\n  background-color: grey;\r\n  border-radius: 40px;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst Name = styled.h2`\r\n  font-size: 22px;\r\n  color: white;\r\n  margin-bottom: 10px;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n`;\r\n\r\nconst Rating = styled.h5`\r\n  font-size: 18px;\r\n  color: white;\r\n`;\r\n\r\nconst Text = styled.span`\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst Grid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr 2fr;\r\n  grid-gap: 10px;\r\n  height: 100%;\r\n  align-items: center;\r\n`;\r\n\r\ninterface IToggleProps {\r\n  isDriving: boolean;\r\n}\r\n\r\nconst ToggleDriving = styled<IToggleProps, any>(\"button\")`\r\n  -webkit-appearance: none;\r\n  background-color: ${props =>\r\n    props.isDriving ? props.theme.yellowColor : props.theme.greenColor};\r\n  width: 100%;\r\n  color: white;\r\n  font-size: 18px;\r\n  border: 0;\r\n  padding: 15px 0px;\r\n  cursor: pointer;\r\n`;\r\n\r\ninterface IProps {\r\n  data?: userProfile;\r\n  loading: boolean;\r\n  toggleDrivingFn: MutationFn;\r\n}\r\n\r\nconst MenuPresenter: React.FC<IProps> = ({\r\n  data: { GetMyProfile: { user = null } = {} } = {},\r\n  loading,\r\n  toggleDrivingFn\r\n}) => (\r\n  <Container>\r\n    {!loading && user && user.fullName && (\r\n      <React.Fragment>\r\n        <Header>\r\n          <Grid>\r\n            <Link to={\"/edit-account\"}>\r\n              <Image\r\n                src={\r\n                  user.profilePhoto ||\r\n                  \"https://lh3.googleusercontent.com/-CTwXMuZRaWw/AAAAAAAAAAI/AAAAAAAAAUg/8T5nFuIdnHE/photo.jpg\"\r\n                }\r\n              />\r\n            </Link>\r\n            <Text>\r\n              <Name>{user.fullName}</Name>\r\n              <Rating>4.5</Rating>\r\n            </Text>\r\n          </Grid>\r\n        </Header>\r\n        <SLink to=\"/trips\">Your Trips</SLink>\r\n        <SLink to=\"/settings\">Settings</SLink>\r\n        <ToggleDriving isDriving={user.isDriving} onClick={toggleDrivingFn}>\r\n          {user.isDriving ? \"Stop driving\" : \"Start driving\"}\r\n        </ToggleDriving>\r\n      </React.Fragment>\r\n    )}\r\n  </Container>\r\n);\r\n\r\nexport default MenuPresenter;\r\n","import { gql } from \"apollo-boost\";\r\n\r\nexport const TOGGLE_DRIVING = gql`\r\n  mutation toggleDriving {\r\n    ToggleDrivingMode {\r\n      ok\r\n      error\r\n    }\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport MenuPresenter from \"./MenuPresenter\";\r\nimport { Mutation, Query } from \"react-apollo\";\r\nimport { toggleDriving, userProfile } from \"src/types/api\";\r\nimport { USER_PROFILE } from \"src/sharedQueries\";\r\nimport { TOGGLE_DRIVING } from \"./MenuQueries\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nclass ProfileQuery extends Query<userProfile> {}\r\nclass ToggleDrivingMutation extends Mutation<toggleDriving> {}\r\n\r\nclass MenuContainer extends React.Component {\r\n  render() {\r\n    return (\r\n      <ToggleDrivingMutation\r\n        mutation={TOGGLE_DRIVING}\r\n        update={(cache, { data }) => {\r\n          if (data) {\r\n            const { ToggleDrivingMode } = data;\r\n            if (ToggleDrivingMode.error) {\r\n              toast.error(ToggleDrivingMode.error);\r\n              return;\r\n            }\r\n            const query: userProfile | null = cache.readQuery({\r\n              query: USER_PROFILE\r\n            });\r\n\r\n            if (query) {\r\n              const {\r\n                GetMyProfile: { user }\r\n              } = query;\r\n              if (user) {\r\n                user.isDriving = !user.isDriving;\r\n              }\r\n            }\r\n            cache.writeQuery({ query: USER_PROFILE, data: query });\r\n          }\r\n        }}\r\n      >\r\n        {toggleDrivingFn => (\r\n          <ProfileQuery query={USER_PROFILE}>\r\n            {({ data, loading }) => (\r\n              <MenuPresenter\r\n                data={data}\r\n                loading={loading}\r\n                toggleDrivingFn={toggleDrivingFn}\r\n              />\r\n            )}\r\n          </ProfileQuery>\r\n        )}\r\n      </ToggleDrivingMutation>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MenuContainer;\r\n","import MenuContainer from \"./MenuContainer\";\r\nexport default MenuContainer;\r\n","import React from \"react\";\r\nimport styled from \"../../typed-component\";\r\nimport Button from \"../Button\";\r\n\r\nconst Container = styled.div`\r\n  background-color: white;\r\n  position: absolute;\r\n  margin: auto;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  width: 80%;\r\n  height: 60%;\r\n  z-index: 9;\r\n  padding: 20px;\r\n`;\r\n\r\nconst Title = styled.h4`\r\n  font-weight: 800;\r\n  margin-top: 30px;\r\n  margin-bottom: 10px;\r\n  &:first-child {\r\n    margin-top: 0;\r\n  }\r\n`;\r\n\r\nconst Data = styled.span`\r\n  color: ${(props) => props.theme.blueColor};\r\n`;\r\n\r\nconst Img = styled.img`\r\n  border-radius: 50%;\r\n  margin-right: 20px;\r\n`;\r\n\r\nconst Passenger = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n`;\r\n\r\ninterface IProps {\r\n  pickUpAddress: string;\r\n  dropOffAddress: string;\r\n  price: number;\r\n  distance: string;\r\n  passengerName: string;\r\n  passengerPhoto: string;\r\n  acceptRideFn: any;\r\n  id: number;\r\n}\r\n\r\nconst RidePopUp: React.FC<IProps> = ({\r\n  pickUpAddress,\r\n  dropOffAddress,\r\n  price,\r\n  distance,\r\n  passengerName,\r\n  passengerPhoto,\r\n  acceptRideFn,\r\n  id,\r\n}) => (\r\n  <Container>\r\n    <Title>Pick Up Address</Title>\r\n    <Data>{pickUpAddress}</Data>\r\n    <Title>Drop Off Address</Title>\r\n    <Data>{dropOffAddress}</Data>\r\n    <Title>Price</Title>\r\n    <Data>{price}</Data>\r\n    <Title>Distance</Title>\r\n    <Data>{distance}</Data>\r\n    <Title>Distance</Title>\r\n    <Data>{distance}</Data>\r\n    <Title>Passenger:</Title>\r\n    <Passenger>\r\n      <Img src={passengerPhoto} />\r\n      <Data>{passengerName}</Data>\r\n    </Passenger>\r\n    <Button\r\n      onClick={() => acceptRideFn({ variables: { rideId: id } })}\r\n      value={\"Accept Ride\"}\r\n    />\r\n  </Container>\r\n);\r\n\r\nexport default RidePopUp;\r\n","import RidePopUp from \"./RidePopUp\";\r\nexport default RidePopUp;\r\n","import React from \"react\";\r\nimport Helmet from \"react-helmet\";\r\nimport styled from \"../../typed-component\";\r\nimport Sidebar from \"react-sidebar\";\r\nimport Menu from \"../../Components/Menu\";\r\nimport AddressBar from \"src/Components/AddressBar\";\r\nimport Button from \"src/Components/Button\";\r\nimport {\r\n  userProfile,\r\n  getRides,\r\n  acceptRideVariables,\r\n  acceptRide,\r\n} from \"src/types/api\";\r\nimport { MutationFn } from \"react-apollo\";\r\nimport { requestRide, requestRideVariables } from \"../../types/api\";\r\nimport RidePopUp from \"src/Components/RidePopUp\";\r\n\r\nconst Container = styled.div``;\r\n\r\nconst MenuButton = styled.button`\r\n  apperance: none;\r\n  padding: 10px;\r\n  position: absolute;\r\n  top: 10px;\r\n  left: 10px;\r\n  text-align: center;\r\n  font-weight: 800;\r\n  border: 0;\r\n  cursor: pointer;\r\n  font-size: 20px;\r\n  transform: rotate(90deg);\r\n  z-index: 2;\r\n  background-color: transparent;\r\n`;\r\n\r\nconst ExtendedButton = styled(Button)`\r\n  position: absolute;\r\n  bottom: 50px;\r\n  left: 0;\r\n  right: 0;\r\n  margin: auto;\r\n  z-index: 10;\r\n  height: auto;\r\n  width: 80%;\r\n`;\r\n\r\nconst RequestButton = styled(ExtendedButton)`\r\n  bottom: 250px;\r\n`;\r\n\r\nconst Map = styled.div`\r\n  position: absolute;\r\n  height: 100%;\r\n  width: 100%;\r\n`;\r\n\r\ninterface IProps {\r\n  isMenuOpen: boolean;\r\n  toggleMenu: () => void;\r\n  loading: boolean;\r\n  mapRef: any;\r\n  toAddress: string;\r\n  onAddressSubmit: () => void;\r\n  onInputChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n  price?: string;\r\n  data?: userProfile;\r\n  requestRideFn?: MutationFn<requestRide, requestRideVariables>;\r\n  nearbyRide?: getRides;\r\n  acceptRideFn: MutationFn<acceptRide, acceptRideVariables>;\r\n}\r\nconst HomePresenter: React.FC<IProps> = ({\r\n  isMenuOpen,\r\n  toggleMenu,\r\n  loading,\r\n  mapRef,\r\n  toAddress,\r\n  onAddressSubmit,\r\n  onInputChange,\r\n  price,\r\n  data: { GetMyProfile: { user = null } = {} } = {},\r\n  requestRideFn,\r\n  nearbyRide: { GetNearbyRide: { ride = null } = {} } = {},\r\n  acceptRideFn,\r\n}) => (\r\n  <Container>\r\n    <Helmet>\r\n      <title>Home | Nuber</title>\r\n    </Helmet>\r\n    <Sidebar\r\n      sidebar={<Menu />}\r\n      open={isMenuOpen}\r\n      onSetOpen={toggleMenu}\r\n      styles={{ sidebar: { width: \"80%\", background: \"white\", zIndex: \"10\" } }}\r\n    >\r\n      {!loading && <MenuButton onClick={() => toggleMenu()}>|||</MenuButton>}\r\n      {user && !user.isDriving && (\r\n        <>\r\n          <AddressBar\r\n            name=\"toAddress\"\r\n            onChange={onInputChange}\r\n            value={toAddress}\r\n            onBlur={() => {\r\n              return;\r\n            }}\r\n          />\r\n          <ExtendedButton\r\n            onClick={onAddressSubmit}\r\n            disabled={toAddress === \"\"}\r\n            value={price ? \"Change address\" : \"Pick Address\"}\r\n          />\r\n        </>\r\n      )}\r\n      {price && (\r\n        <RequestButton\r\n          onClick={requestRideFn}\r\n          disabled={toAddress === \"\"}\r\n          value={`Request Ride ($${price})`}\r\n        />\r\n      )}\r\n      {ride && (\r\n        <RidePopUp\r\n          id={ride.id}\r\n          pickUpAddress={ride.pickUpAddress}\r\n          dropOffAddress={ride.dropOffAddress}\r\n          price={ride.price}\r\n          distance={ride.distance}\r\n          passengerName={ride.passenger.fullName!}\r\n          passengerPhoto={ride.passenger.profilePhoto!}\r\n          acceptRideFn={acceptRideFn}\r\n        />\r\n      )}\r\n      <Map ref={mapRef} />\r\n    </Sidebar>\r\n  </Container>\r\n);\r\n\r\nexport default HomePresenter;\r\n","import { gql } from \"apollo-boost\";\r\n\r\nexport const REPORT_LOCATION = gql`\r\n  mutation reportMovement($lat: Float!, $lng: Float!) {\r\n    ReportMovement(lastLat: $lat, lastLng: $lng) {\r\n      ok\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_NEARBY_DRIVERS = gql`\r\n  query getDrivers {\r\n    GetNearbyDrivers {\r\n      ok\r\n      drivers {\r\n        id\r\n        lastLat\r\n        lastLng\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const REQUEST_RIDE = gql`\r\n  mutation requestRide(\r\n    $pickUpAddress: String!\r\n    $pickUpLat: Float!\r\n    $pickUpLng: Float!\r\n    $dropOffAddress: String!\r\n    $dropOffLat: Float!\r\n    $dropOffLng: Float!\r\n    $price: Float!\r\n    $distance: String!\r\n    $duration: String!\r\n  ) {\r\n    RequestRide(\r\n      pickUpAddress: $pickUpAddress\r\n      pickUpLat: $pickUpLat\r\n      pickUpLng: $pickUpLng\r\n      dropOffAddress: $dropOffAddress\r\n      dropOffLat: $dropOffLat\r\n      dropOffLng: $dropOffLng\r\n      price: $price\r\n      distance: $distance\r\n      duration: $duration\r\n    ) {\r\n      ok\r\n      error\r\n      ride {\r\n        id\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const GET_NEARBY_RIDE = gql`\r\n  query getRides {\r\n    GetNearbyRide {\r\n      ok\r\n      error\r\n      ride {\r\n        id\r\n        pickUpAddress\r\n        dropOffAddress\r\n        price\r\n        distance\r\n        passenger {\r\n          fullName\r\n          profilePhoto\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ACCEPT_RIDE = gql`\r\n  mutation acceptRide($rideId: Int!) {\r\n    UpdateRideStatus(rideId: $rideId, status: ACCEPTED) {\r\n      ok\r\n      error\r\n      rideId\r\n    }\r\n  }\r\n`;\r\n\r\nexport const SUBSCRIBE_NEARBY_RIDES = gql`\r\n  subscription nearbyRides {\r\n    NearByRideSubscription {\r\n      id\r\n      pickUpAddress\r\n      dropOffAddress\r\n      price\r\n      distance\r\n      passenger {\r\n        fullName\r\n        profilePhoto\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport HomePresenter from \"./HomePresenter\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport { Query, graphql, MutationFn, Mutation } from \"react-apollo\";\r\nimport {\r\n  userProfile,\r\n  getDrivers,\r\n  getRides,\r\n  acceptRide,\r\n  acceptRideVariables,\r\n} from \"src/types/api\";\r\nimport { USER_PROFILE } from \"src/sharedQueries\";\r\nimport { geoCode, reverseGeoCode } from \"src/mapHelpers\";\r\nimport { toast } from \"react-toastify\";\r\nimport {\r\n  REPORT_LOCATION,\r\n  GET_NEARBY_DRIVERS,\r\n  REQUEST_RIDE,\r\n  GET_NEARBY_RIDE,\r\n  ACCEPT_RIDE,\r\n  SUBSCRIBE_NEARBY_RIDES,\r\n} from \"./HomeQueries\";\r\nimport {\r\n  reportMovement,\r\n  reportMovementVariables,\r\n  requestRide,\r\n  requestRideVariables,\r\n} from \"../../types/api\";\r\nimport { SubscribeToMoreOptions } from \"apollo-client\";\r\n\r\ninterface IState {\r\n  isMenuOpen: boolean;\r\n  lat: number;\r\n  lng: number;\r\n  fromAddress: string;\r\n  toAddress: string;\r\n  toLat: number;\r\n  toLng: number;\r\n  distance: string;\r\n  duration?: string;\r\n  price?: string;\r\n  isDriving: boolean;\r\n}\r\n\r\ninterface IProps extends RouteComponentProps<any> {\r\n  google: any;\r\n  reportLocation: MutationFn;\r\n}\r\n\r\nclass ProfileQuery extends Query<userProfile> {}\r\nclass NearbyQueries extends Query<getDrivers> {}\r\nclass RequestRideMutation extends Mutation<requestRide, requestRideVariables> {}\r\nclass GetNearbyRides extends Query<getRides> {}\r\nclass AcceptRide extends Mutation<acceptRide, acceptRideVariables> {}\r\n\r\nclass HomeContainer extends React.Component<IProps, IState> {\r\n  public mapRef: any;\r\n  public map: google.maps.Map | any;\r\n  public userMarker: google.maps.Marker | any;\r\n  public toMarker: google.maps.Marker | any;\r\n  public directions: google.maps.DirectionsRenderer | any;\r\n  public drivers: google.maps.Marker[];\r\n\r\n  public state = {\r\n    isDriving: false,\r\n    isMenuOpen: false,\r\n    lat: 0,\r\n    lng: 0,\r\n    fromAddress: \"\",\r\n    toAddress: \"한국타이어 테크노돔\",\r\n    toLat: 0,\r\n    toLng: 0,\r\n    distance: \"\",\r\n    duration: undefined,\r\n    price: undefined,\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.mapRef = React.createRef();\r\n    this.drivers = [];\r\n  }\r\n\r\n  public componentDidMount() {\r\n    navigator.geolocation.getCurrentPosition(\r\n      this.handleGeoSuccess,\r\n      this.handleGeoError\r\n    );\r\n  }\r\n\r\n  public handleGeoSuccess: PositionCallback = (position: Position) => {\r\n    const {\r\n      coords: { latitude: lat, longitude: lng },\r\n    } = position;\r\n\r\n    this.setState({\r\n      lat,\r\n      lng,\r\n    });\r\n    this.getFromAddress(lat, lng);\r\n    this.loadMap(lat, lng);\r\n  };\r\n\r\n  public getFromAddress = async (lat: number, lng: number) => {\r\n    const address = await reverseGeoCode(lat, lng);\r\n\r\n    if (address) {\r\n      this.setState({\r\n        fromAddress: address,\r\n      });\r\n    }\r\n  };\r\n\r\n  public handleGeoError: PositionErrorCallback = () => {\r\n    console.log(\"No location\");\r\n  };\r\n\r\n  public loadMap = (lat, lng) => {\r\n    const { google } = this.props;\r\n    const maps = google.maps;\r\n    const mapNode = ReactDOM.findDOMNode(this.mapRef.current);\r\n    if (!mapNode) {\r\n      this.loadMap(lat, lng);\r\n      return;\r\n    }\r\n    const mapConfig: google.maps.MapOptions = {\r\n      zoom: 13,\r\n      center: {\r\n        lat,\r\n        lng,\r\n      },\r\n      disableDefaultUI: true,\r\n    };\r\n    this.map = new maps.Map(mapNode, mapConfig);\r\n    const userMarkerOptions: google.maps.MarkerOptions = {\r\n      position: {\r\n        lat,\r\n        lng,\r\n      },\r\n      icon: {\r\n        path: maps.SymbolPath.CIRCLE,\r\n        scale: 7,\r\n      },\r\n    };\r\n    this.userMarker = new maps.Marker(userMarkerOptions);\r\n    this.userMarker.setMap(this.map);\r\n    const watchOptions: PositionOptions = {\r\n      enableHighAccuracy: true,\r\n    };\r\n    navigator.geolocation.watchPosition(\r\n      this.handleGeoWatchSuccess,\r\n      this.handleGeoWatchError,\r\n      watchOptions\r\n    );\r\n  };\r\n\r\n  public handleGeoWatchSuccess = (position: Position) => {\r\n    const { reportLocation } = this.props;\r\n    const {\r\n      coords: { latitude: lat, longitude: lng },\r\n    } = position;\r\n    this.userMarker.setPosition({ lat, lng });\r\n    this.map.panTo({ lat, lng });\r\n    reportLocation({\r\n      variables: {\r\n        lat,\r\n        lng,\r\n      },\r\n    });\r\n  };\r\n\r\n  public handleGeoWatchError = () => {\r\n    console.log(\"Error watching you\");\r\n  };\r\n\r\n  public onInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const {\r\n      target: { name, value },\r\n    } = event;\r\n    this.setState({\r\n      [name]: value,\r\n    } as any);\r\n  };\r\n\r\n  public onAddressSubmit = async () => {\r\n    const { toAddress } = this.state;\r\n    const { google } = this.props;\r\n    const maps = google.maps;\r\n    const result = await geoCode(toAddress);\r\n    if (result !== false) {\r\n      const { lat, lng, formatted_address } = result;\r\n\r\n      if (this.toMarker) {\r\n        this.toMarker.setMap(null);\r\n      }\r\n\r\n      const toMarkerOptions: google.maps.MarkerOptions = {\r\n        position: {\r\n          lat,\r\n          lng,\r\n        },\r\n      };\r\n      this.toMarker = new maps.Marker(toMarkerOptions);\r\n      this.toMarker.setMap(this.map);\r\n      const bounds = new maps.LatLngBounds();\r\n      bounds.extend({ lat: this.state.lat, lng: this.state.lng });\r\n      bounds.extend({ lat, lng });\r\n      this.map.fitBounds(bounds);\r\n\r\n      this.setState(\r\n        {\r\n          toLat: lat,\r\n          toLng: lng,\r\n          toAddress: formatted_address,\r\n        },\r\n        this.createPath\r\n      );\r\n    }\r\n  };\r\n\r\n  public createPath = () => {\r\n    const { toLat, toLng, lat, lng } = this.state;\r\n    if (this.directions) {\r\n      this.directions.setMap(null);\r\n    }\r\n    const renderOptions: google.maps.DirectionsRendererOptions = {\r\n      suppressMarkers: true,\r\n      polylineOptions: {\r\n        strokeColor: \"#000\",\r\n      },\r\n    };\r\n\r\n    this.directions = new google.maps.DirectionsRenderer(renderOptions);\r\n    const directionsService: google.maps.DirectionsService = new google.maps.DirectionsService();\r\n    const to = new google.maps.LatLng(toLat, toLng);\r\n    const from = new google.maps.LatLng(lat, lng);\r\n    const directionsOptions: google.maps.DirectionsRequest = {\r\n      destination: to,\r\n      origin: from,\r\n      travelMode: google.maps.TravelMode.DRIVING,\r\n    };\r\n\r\n    directionsService.route(directionsOptions, this.handleRouteRequest);\r\n  };\r\n\r\n  public handleRouteRequest = (\r\n    result: google.maps.DirectionsResult,\r\n    status: google.maps.DirectionsStatus\r\n  ) => {\r\n    console.log(status);\r\n    if (status === google.maps.DirectionsStatus.OK) {\r\n      const { routes } = result;\r\n      const {\r\n        distance: { text: distance },\r\n        duration: { text: duration },\r\n      } = routes[0].legs[0];\r\n\r\n      this.directions.setDirections(result);\r\n      this.directions.setMap(this.map);\r\n      this.setState(\r\n        {\r\n          distance,\r\n          duration,\r\n        },\r\n        this.setPrice\r\n      );\r\n    } else {\r\n      toast.error(\"There is no route there, you have to swim\");\r\n    }\r\n  };\r\n\r\n  public setPrice = () => {\r\n    const { distance } = this.state;\r\n    if (distance) {\r\n      this.setState({\r\n        price: Number(parseFloat(distance.replace(\",\", \"\")) * 3).toFixed(2),\r\n      });\r\n    }\r\n  };\r\n\r\n  public handleNearbyDrivers = (data: {} | getDrivers) => {\r\n    if (\"GetNearbyDrivers\" in data) {\r\n      const {\r\n        GetNearbyDrivers: { drivers, ok },\r\n      } = data;\r\n      if (ok && drivers) {\r\n        for (const driver of drivers) {\r\n          if (driver && driver.lastLat && driver.lastLng) {\r\n            const existingDriver:\r\n              | google.maps.Marker\r\n              | undefined = this.drivers.find(\r\n              (driverMarker: google.maps.Marker) => {\r\n                const markerID = driverMarker.get(\"ID\");\r\n                return markerID === driver.id;\r\n              }\r\n            );\r\n\r\n            if (existingDriver) {\r\n              existingDriver.setPosition({\r\n                lat: driver.lastLat,\r\n                lng: driver.lastLng,\r\n              });\r\n              existingDriver.setMap(this.map);\r\n            } else {\r\n              const markerOptions: google.maps.MarkerOptions = {\r\n                position: {\r\n                  lat: driver.lastLat,\r\n                  lng: driver.lastLng,\r\n                },\r\n                icon: {\r\n                  path: google.maps.SymbolPath.FORWARD_CLOSED_ARROW,\r\n                  scale: 5,\r\n                },\r\n              };\r\n\r\n              const newMarker: google.maps.Marker = new google.maps.Marker(\r\n                markerOptions\r\n              );\r\n              newMarker.set(\"ID\", driver.id);\r\n              newMarker.setMap(this.map);\r\n              this.drivers.push(newMarker);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  public handleRideRequest = (data: requestRide) => {\r\n    const { history } = this.props;\r\n    const { RequestRide } = data;\r\n\r\n    if (RequestRide.ok) {\r\n      toast.success(\"Drive requested, finding a driver\");\r\n      history.push(`/ride/${RequestRide.ride!.id}`);\r\n    } else {\r\n      toast.error(RequestRide.error);\r\n    }\r\n  };\r\n\r\n  public handleProfileQuery = (data: userProfile) => {\r\n    const { GetMyProfile } = data;\r\n    if (GetMyProfile.user) {\r\n      const {\r\n        user: { isDriving },\r\n      } = GetMyProfile;\r\n      if (isDriving) {\r\n        this.setState({\r\n          isDriving,\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  public handleRideAcceptance = (data: acceptRide) => {\r\n    const { history } = this.props;\r\n    const { UpdateRideStatus } = data;\r\n    if (UpdateRideStatus.ok) {\r\n      history.push(`/ride/${UpdateRideStatus.rideId}`);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      isMenuOpen,\r\n      price,\r\n      distance,\r\n      fromAddress,\r\n      toAddress,\r\n      lat,\r\n      lng,\r\n      toLat,\r\n      toLng,\r\n      duration,\r\n      isDriving,\r\n    } = this.state;\r\n\r\n    return (\r\n      <ProfileQuery query={USER_PROFILE} onCompleted={this.handleProfileQuery}>\r\n        {({ data, loading }) => (\r\n          <NearbyQueries\r\n            query={GET_NEARBY_DRIVERS}\r\n            skip={isDriving}\r\n            pollInterval={5000}\r\n            onCompleted={this.handleNearbyDrivers}\r\n          >\r\n            {() => (\r\n              <RequestRideMutation\r\n                mutation={REQUEST_RIDE}\r\n                onCompleted={this.handleRideRequest}\r\n                variables={{\r\n                  pickUpAddress: fromAddress,\r\n                  pickUpLat: lat,\r\n                  pickUpLng: lng,\r\n                  dropOffAddress: toAddress,\r\n                  dropOffLat: toLat,\r\n                  dropOffLng: toLng,\r\n                  price: price || 0,\r\n                  distance,\r\n                  duration: duration || \"\",\r\n                }}\r\n              >\r\n                {(requestRideFn) => (\r\n                  <GetNearbyRides query={GET_NEARBY_RIDE} skip={!isDriving}>\r\n                    {({ subscribeToMore, data: nearbyRide }) => {\r\n                      const rideSubscriptionOptions: SubscribeToMoreOptions = {\r\n                        document: SUBSCRIBE_NEARBY_RIDES,\r\n                        updateQuery: (prev, { subscriptionData }) => {\r\n                          if (!subscriptionData.data) {\r\n                            return prev;\r\n                          }\r\n                          const newObject = Object.assign({}, prev, {\r\n                            GetNearbyRide: {\r\n                              ...prev.GetNearbyRide,\r\n                              ride:\r\n                                subscriptionData.data.NearbyRideSubscription,\r\n                            },\r\n                          });\r\n                          return newObject;\r\n                        },\r\n                      };\r\n                      if (isDriving) {\r\n                        subscribeToMore(rideSubscriptionOptions);\r\n                      }\r\n                      return (\r\n                        <AcceptRide\r\n                          mutation={ACCEPT_RIDE}\r\n                          onCompleted={this.handleRideAcceptance}\r\n                        >\r\n                          {(acceptRideFn) => (\r\n                            <HomePresenter\r\n                              loading={loading}\r\n                              isMenuOpen={isMenuOpen}\r\n                              toggleMenu={this.toggleMenu}\r\n                              mapRef={this.mapRef}\r\n                              toAddress={toAddress}\r\n                              onInputChange={this.onInputChange}\r\n                              price={price}\r\n                              data={data}\r\n                              onAddressSubmit={this.onAddressSubmit}\r\n                              requestRideFn={requestRideFn}\r\n                              nearbyRide={nearbyRide}\r\n                              acceptRideFn={acceptRideFn}\r\n                            />\r\n                          )}\r\n                        </AcceptRide>\r\n                      );\r\n                    }}\r\n                  </GetNearbyRides>\r\n                )}\r\n              </RequestRideMutation>\r\n            )}\r\n          </NearbyQueries>\r\n        )}\r\n      </ProfileQuery>\r\n    );\r\n  }\r\n\r\n  public toggleMenu = () => {\r\n    this.setState((state) => {\r\n      return {\r\n        isMenuOpen: !state.isMenuOpen,\r\n      };\r\n    });\r\n  };\r\n}\r\n\r\nexport default graphql<any, reportMovement, reportMovementVariables>(\r\n  REPORT_LOCATION,\r\n  { name: \"reportLocation\" }\r\n)(HomeContainer);\r\n","import { GoogleApiWrapper } from \"google-maps-react\";\r\nimport HomeContainer from \"./HomeContainer\";\r\nimport { MAPS_KEY } from \"src/keys\";\r\nexport default GoogleApiWrapper({\r\n  apiKey: MAPS_KEY\r\n})(HomeContainer);\r\n","import React from \"react\";\r\nimport { RouteComponentProps, Link } from \"react-router-dom\";\r\nimport bgImage from \"../../images/bg.png\";\r\nimport styled from \"../../typed-component\";\r\nimport Helmet from \"react-helmet\";\r\n\r\nconst Container = styled.div`\r\n  height: 100vh;\r\n`;\r\n\r\nconst Header = styled.header`\r\n  height: 70%;\r\n  background: linear-gradient(rgba(0, 153, 196, 0.5), rgba(0, 153, 196, 0.4)),\r\n    url(${bgImage});\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nconst Logo = styled.div`\r\n  width: 110px;\r\n  height: 110px;\r\n  background-color: white;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 -14px 28px rgba(0, 0, 0, 0.22);\r\n  text-transform: uppercase;\r\n  font-weight: 500;\r\n  font-size: 25px;\r\n`;\r\n\r\nconst Title = styled.h1``;\r\n\r\nconst Footer = styled.div``;\r\n\r\nconst Subtitle = styled.h2`\r\n  font-size: 30px;\r\n`;\r\n\r\nconst FakeInput = styled.div`\r\n  margin: 50px 0px;\r\n  font-size: 25px;\r\n  font-weight: 300;\r\n`;\r\n\r\nconst PhoneLogin = styled.div`\r\n  padding: 20px;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst Grey = styled.span`\r\n  color: ${props => props.theme.greyColor};\r\n  margin-left: 10px;\r\n`;\r\n\r\nconst SocialLogin = styled.div`\r\n    border-top : 1px solid ${props => props.theme.greyColor}\r\n    padding: 30px 20px;\r\n`;\r\n\r\nconst SocialLink = styled.span`\r\n  color: ${props => props.theme.blueColor};\r\n  font-size: 20px;\r\n  cursor: pointer;\r\n`;\r\n\r\ninterface IProps extends RouteComponentProps<any> {}\r\n\r\nconst LoginPresenter: React.FC<IProps> = () => (\r\n  <Container>\r\n    <Helmet>\r\n      <title>Login | Nuber</title>\r\n    </Helmet>\r\n    <Header>\r\n      <Logo>\r\n        <Title>Nuber</Title>\r\n      </Logo>\r\n    </Header>\r\n    <Footer>\r\n      <Link to={\"/phone-login\"}>\r\n        <PhoneLogin>\r\n          <Subtitle>Get Moving with Nuber</Subtitle>\r\n          <FakeInput>\r\n            KR +82 <Grey>Enter your mobile number</Grey>\r\n          </FakeInput>\r\n        </PhoneLogin>\r\n      </Link>\r\n      <Link to={\"/social-login\"}>\r\n        <SocialLogin>\r\n          <SocialLink>Or connect with social</SocialLink>\r\n        </SocialLogin>\r\n      </Link>\r\n    </Footer>\r\n  </Container>\r\n);\r\n\r\nexport default LoginPresenter;\r\n","import LoginPresenter from \"./LoginPresenter\";\r\nexport default LoginPresenter;\r\n","const countries = [\r\n  { name: \"Afghanistan\", dial_code: \"+93\", code: \"AF\", flag: \"🇦🇫\" },\r\n  { name: \"Åland Islands\", dial_code: \"+358\", code: \"AX\", flag: \"🇦🇽\" },\r\n  { name: \"Albania\", dial_code: \"+355\", code: \"AL\", flag: \"🇦🇱\" },\r\n  { name: \"Algeria\", dial_code: \"+213\", code: \"DZ\", flag: \"🇩🇿\" },\r\n  {\r\n    name: \"American Samoa\",\r\n    dial_code: \"+1684\",\r\n    code: \"AS\",\r\n    flag: \"🇺🇸\"\r\n  },\r\n  { name: \"Andorra\", dial_code: \"+376\", code: \"AD\", flag: \"🇦🇩\" },\r\n  { name: \"Angola\", dial_code: \"+244\", code: \"AO\", flag: \"🇦🇴\" },\r\n  { name: \"Anguilla\", dial_code: \"+1264\", code: \"AI\", flag: \"🇦🇮\" },\r\n  { name: \"Antarctica\", dial_code: \"+672\", code: \"AQ\", flag: \"🇦🇶\" },\r\n  {\r\n    name: \"Antigua and Barbuda\",\r\n    dial_code: \"+1268\",\r\n    code: \"AG\",\r\n    flag: \"🇦🇬\"\r\n  },\r\n  { name: \"Argentina\", dial_code: \"+54\", code: \"AR\", flag: \"🇦🇷\" },\r\n  { name: \"Armenia\", dial_code: \"+374\", code: \"AM\", flag: \"🇦🇲\" },\r\n  { name: \"Aruba\", dial_code: \"+297\", code: \"AW\", flag: \"🇦🇼\" },\r\n  { name: \"Australia\", dial_code: \"+61\", code: \"AU\", flag: \"🇦🇺\" },\r\n  { name: \"Austria\", dial_code: \"+43\", code: \"AT\", flag: \"🇦🇹\" },\r\n  { name: \"Azerbaijan\", dial_code: \"+994\", code: \"AZ\", flag: \"🇦🇿\" },\r\n  { name: \"Bahamas\", dial_code: \"+1242\", code: \"BS\", flag: \"🇧🇸\" },\r\n  { name: \"Bahrain\", dial_code: \"+973\", code: \"BH\", flag: \"🇧🇸\" },\r\n  { name: \"Bangladesh\", dial_code: \"+880\", code: \"BD\", flag: \"🇧🇩\" },\r\n  { name: \"Barbados\", dial_code: \"+1246\", code: \"BB\", flag: \"🇧🇧\" },\r\n  { name: \"Belarus\", dial_code: \"+375\", code: \"BY\", flag: \"🇧🇾\" },\r\n  { name: \"Belgium\", dial_code: \"+32\", code: \"BE\", flag: \"🇧🇪\" },\r\n  { name: \"Belize\", dial_code: \"+501\", code: \"BZ\", flag: \"🇧🇿\" },\r\n  { name: \"Benin\", dial_code: \"+229\", code: \"BJ\", flag: \"🇧🇯\" },\r\n  { name: \"Bermuda\", dial_code: \"+1441\", code: \"BM\", flag: \"🇧🇲\" },\r\n  { name: \"Bhutan\", dial_code: \"+975\", code: \"BT\", flag: \"🇧🇹\" },\r\n  {\r\n    name: \"Bolivia, Plurinational State of bolivia\",\r\n    dial_code: \"+591\",\r\n    code: \"BO\",\r\n    flag: \"🇧🇴\"\r\n  },\r\n  {\r\n    name: \"Bosnia and Herzegovina\",\r\n    dial_code: \"+387\",\r\n    code: \"BA\",\r\n    flag: \"🇧🇦\"\r\n  },\r\n  { name: \"Botswana\", dial_code: \"+267\", code: \"BW\", flag: \"🇧🇼\" },\r\n  { name: \"Bouvet Island\", dial_code: \"+47\", code: \"BV\", flag: \"🏳\" },\r\n  { name: \"Brazil\", dial_code: \"+55\", code: \"BR\", flag: \"🇧🇷\" },\r\n  {\r\n    name: \"British Indian Ocean Territory\",\r\n    dial_code: \"+246\",\r\n    code: \"IO\",\r\n    flag: \"🇮🇴\"\r\n  },\r\n  {\r\n    name: \"Brunei Darussalam\",\r\n    dial_code: \"+673\",\r\n    code: \"BN\",\r\n    flag: \"🇧🇳\"\r\n  },\r\n  { name: \"Bulgaria\", dial_code: \"+359\", code: \"BG\", flag: \"🇧🇬\" },\r\n  { name: \"Burkina Faso\", dial_code: \"+226\", code: \"BF\", flag: \"🇧🇫\" },\r\n  { name: \"Burundi\", dial_code: \"+257\", code: \"BI\", flag: \"🇧🇮\" },\r\n  { name: \"Cambodia\", dial_code: \"+855\", code: \"KH\", flag: \"🇰🇭\" },\r\n  { name: \"Cameroon\", dial_code: \"+237\", code: \"CM\", flag: \"🇨🇲\" },\r\n  { name: \"Canada\", dial_code: \"+1\", code: \"CA\", flag: \"🇨🇦\" },\r\n  { name: \"Cape Verde\", dial_code: \"+238\", code: \"CV\", flag: \"🇨🇻\" },\r\n  {\r\n    name: \"Cayman Islands\",\r\n    dial_code: \"+ 345\",\r\n    code: \"KY\",\r\n    flag: \"🇰🇾\"\r\n  },\r\n  {\r\n    name: \"Central African Republic\",\r\n    dial_code: \"+236\",\r\n    code: \"CF\",\r\n    flag: \"🇨🇫\"\r\n  },\r\n  { name: \"Chad\", dial_code: \"+235\", code: \"TD\", flag: \"🇹🇩\" },\r\n  { name: \"Chile\", dial_code: \"+56\", code: \"CL\", flag: \"🇨🇱\" },\r\n  { name: \"China\", dial_code: \"+86\", code: \"CN\", flag: \"🇨🇳\" },\r\n  {\r\n    name: \"Christmas Island\",\r\n    dial_code: \"+61\",\r\n    code: \"CX\",\r\n    flag: \"🇨🇽\"\r\n  },\r\n  {\r\n    name: \"Cocos (Keeling) Islands\",\r\n    dial_code: \"+61\",\r\n    code: \"CC\",\r\n    flag: \"🇨🇨\"\r\n  },\r\n  { name: \"Colombia\", dial_code: \"+57\", code: \"CO\", flag: \"🇨🇴\" },\r\n  { name: \"Comoros\", dial_code: \"+269\", code: \"KM\", flag: \"🇰🇲\" },\r\n  { name: \"Congo\", dial_code: \"+242\", code: \"CG\", flag: \"🇨🇬\" },\r\n  {\r\n    name: \"Congo, The Democratic Republic of the Congo\",\r\n    dial_code: \"+243\",\r\n    code: \"CD\",\r\n    flag: \"🇨🇩\"\r\n  },\r\n  { name: \"Cook Islands\", dial_code: \"+682\", code: \"CK\", flag: \"🇨🇰\" },\r\n  { name: \"Costa Rica\", dial_code: \"+506\", code: \"CR\", flag: \"🇨🇷\" },\r\n  { name: \"Cote d'Ivoire\", dial_code: \"+225\", code: \"CI\", flag: \"🇨🇮\" },\r\n  { name: \"Croatia\", dial_code: \"+385\", code: \"HR\", flag: \"🇭🇷\" },\r\n  { name: \"Cuba\", dial_code: \"+53\", code: \"CU\", flag: \"🇨🇺\" },\r\n  { name: \"Cyprus\", dial_code: \"+357\", code: \"CY\", flag: \"🇨🇾\" },\r\n  { name: \"Czech Republic\", dial_code: \"+420\", code: \"CZ\", flag: \"🇨🇿\" },\r\n  { name: \"Denmark\", dial_code: \"+45\", code: \"DK\", flag: \"🇩🇰\" },\r\n  { name: \"Djibouti\", dial_code: \"+253\", code: \"DJ\", flag: \"🇩🇯\" },\r\n  { name: \"Dominica\", dial_code: \"+1767\", code: \"DM\", flag: \"🇩🇲\" },\r\n  {\r\n    name: \"Dominican Republic\",\r\n    dial_code: \"+1849\",\r\n    code: \"DO\",\r\n    flag: \"🇨🇩\"\r\n  },\r\n  { name: \"Ecuador\", dial_code: \"+593\", code: \"EC\", flag: \"🇪🇨\" },\r\n  { name: \"Egypt\", dial_code: \"+20\", code: \"EG\", flag: \"🇪🇬\" },\r\n  { name: \"El Salvador\", dial_code: \"+503\", code: \"SV\", flag: \"🇸🇻\" },\r\n  {\r\n    name: \"Equatorial Guinea\",\r\n    dial_code: \"+240\",\r\n    code: \"GQ\",\r\n    flag: \"🇬🇶\"\r\n  },\r\n  { name: \"Eritrea\", dial_code: \"+291\", code: \"ER\", flag: \"🇪🇷\" },\r\n  { name: \"Estonia\", dial_code: \"+372\", code: \"EE\", flag: \"🇪🇪\" },\r\n  { name: \"Ethiopia\", dial_code: \"+251\", code: \"ET\", flag: \"🇪🇹\" },\r\n  {\r\n    name: \"Falkland Islands (Malvinas)\",\r\n    dial_code: \"+500\",\r\n    code: \"FK\",\r\n    flag: \"🇫🇰\"\r\n  },\r\n  { name: \"Faroe Islands\", dial_code: \"+298\", code: \"FO\", flag: \"🇫🇴\" },\r\n  { name: \"Fiji\", dial_code: \"+679\", code: \"FJ\", flag: \"🇫🇯\" },\r\n  { name: \"Finland\", dial_code: \"+358\", code: \"FI\", flag: \"🇫🇮\" },\r\n  { name: \"France\", dial_code: \"+33\", code: \"FR\", flag: \"🇫🇷\" },\r\n  { name: \"French Guiana\", dial_code: \"+594\", code: \"GF\", flag: \"🇬🇫\" },\r\n  {\r\n    name: \"French Polynesia\",\r\n    dial_code: \"+689\",\r\n    code: \"PF\",\r\n    flag: \"🇵🇫\"\r\n  },\r\n  {\r\n    name: \"French Southern Territories\",\r\n    dial_code: \"+262\",\r\n    code: \"TF\",\r\n    flag: \"🇹🇫\"\r\n  },\r\n  { name: \"Gabon\", dial_code: \"+241\", code: \"GA\", flag: \"🇬🇦\" },\r\n  { name: \"Gambia\", dial_code: \"+220\", code: \"GM\", flag: \"🇬🇲\" },\r\n  { name: \"Georgia\", dial_code: \"+995\", code: \"GE\", flag: \"🇬🇪\" },\r\n  { name: \"Germany\", dial_code: \"+49\", code: \"DE\", flag: \"🇩🇪\" },\r\n  { name: \"Ghana\", dial_code: \"+233\", code: \"GH\", flag: \"🇬🇭\" },\r\n  { name: \"Gibraltar\", dial_code: \"+350\", code: \"GI\", flag: \"🇬🇮\" },\r\n  { name: \"Greece\", dial_code: \"+30\", code: \"GR\", flag: \"🇬🇷\" },\r\n  { name: \"Greenland\", dial_code: \"+299\", code: \"GL\", flag: \"🇬🇱\" },\r\n  { name: \"Grenada\", dial_code: \"+1473\", code: \"GD\", flag: \"🇬🇩\" },\r\n  { name: \"Guadeloupe\", dial_code: \"+590\", code: \"GP\", flag: \"🇬🇵\" },\r\n  { name: \"Guam\", dial_code: \"+1671\", code: \"GU\", flag: \"🇬🇺\" },\r\n  { name: \"Guatemala\", dial_code: \"+502\", code: \"GT\", flag: \"🇬🇹\" },\r\n  { name: \"Guernsey\", dial_code: \"+44\", code: \"GG\", flag: \"🇬🇬\" },\r\n  { name: \"Guinea\", dial_code: \"+224\", code: \"GN\", flag: \"🇬🇳\" },\r\n  { name: \"Guinea-Bissau\", dial_code: \"+245\", code: \"GW\", flag: \"🇬🇼\" },\r\n  { name: \"Guyana\", dial_code: \"+592\", code: \"GY\", flag: \"🇬🇾\" },\r\n  { name: \"Haiti\", dial_code: \"+509\", code: \"HT\", flag: \"🇭🇹\" },\r\n  {\r\n    name: \"Heard Island and Mcdonald Islands\",\r\n    dial_code: \"+0\",\r\n    code: \"HM\",\r\n    flag: \"🏳\"\r\n  },\r\n  {\r\n    name: \"Holy See (Vatican City State)\",\r\n    dial_code: \"+379\",\r\n    code: \"VA\",\r\n    flag: \"🇻🇦\"\r\n  },\r\n  { name: \"Honduras\", dial_code: \"+504\", code: \"HN\", flag: \"🇭🇳\" },\r\n  { name: \"Hong Kong\", dial_code: \"+852\", code: \"HK\", flag: \"🇭🇰\" },\r\n  { name: \"Hungary\", dial_code: \"+36\", code: \"HU\", flag: \"🇭🇺\" },\r\n  { name: \"Iceland\", dial_code: \"+354\", code: \"IS\", flag: \"🇮🇸\" },\r\n  { name: \"India\", dial_code: \"+91\", code: \"IN\", flag: \"🇮🇳\" },\r\n  { name: \"Indonesia\", dial_code: \"+62\", code: \"ID\", flag: \"🇮🇩\" },\r\n  {\r\n    name: \"Iran, Islamic Republic of Persian Gulf\",\r\n    dial_code: \"+98\",\r\n    code: \"IR\",\r\n    flag: \"🇮🇷\"\r\n  },\r\n  { name: \"Iraq\", dial_code: \"+964\", code: \"IQ\", flag: \"🇮🇶\" },\r\n  { name: \"Ireland\", dial_code: \"+353\", code: \"IE\", flag: \"🇮🇪\" },\r\n  { name: \"Isle of Man\", dial_code: \"+44\", code: \"IM\", flag: \"🇮🇲\" },\r\n  { name: \"Israel\", dial_code: \"+972\", code: \"IL\", flag: \"🇮🇱\" },\r\n  { name: \"Italy\", dial_code: \"+39\", code: \"IT\", flag: \"🇮🇹\" },\r\n  { name: \"Jamaica\", dial_code: \"+1876\", code: \"JM\", flag: \"🇯🇲\" },\r\n  { name: \"Japan\", dial_code: \"+81\", code: \"JP\", flag: \"🇯🇵\" },\r\n  { name: \"Jersey\", dial_code: \"+44\", code: \"JE\", flag: \"🇯🇪\" },\r\n  { name: \"Jordan\", dial_code: \"+962\", code: \"JO\", flag: \"🇯🇴\" },\r\n  { name: \"Kazakhstan\", dial_code: \"+7\", code: \"KZ\", flag: \"🇰🇿\" },\r\n  { name: \"Kenya\", dial_code: \"+254\", code: \"KE\", flag: \"🇰🇪\" },\r\n  { name: \"Kiribati\", dial_code: \"+686\", code: \"KI\", flag: \"🇰🇮\" },\r\n  {\r\n    name: \"Korea, Democratic People's Republic of Korea\",\r\n    dial_code: \"+850\",\r\n    code: \"KP\",\r\n    flag: \"🇰🇵\"\r\n  },\r\n  {\r\n    name: \"Korea, Republic of South Korea\",\r\n    dial_code: \"+82\",\r\n    code: \"KR\",\r\n    flag: \"🇰🇷\"\r\n  },\r\n  { name: \"Kosovo\", dial_code: \"+383\", code: \"XK\", flag: \"🇽🇰\" },\r\n  { name: \"Kuwait\", dial_code: \"+965\", code: \"KW\", flag: \"🇰🇼\" },\r\n  { name: \"Kyrgyzstan\", dial_code: \"+996\", code: \"KG\", flag: \"🇰🇬\" },\r\n  { name: \"Laos\", dial_code: \"+856\", code: \"LA\", flag: \"🇱🇦\" },\r\n  { name: \"Latvia\", dial_code: \"+371\", code: \"LV\", flag: \"🇱🇻\" },\r\n  { name: \"Lebanon\", dial_code: \"+961\", code: \"LB\", flag: \"🇱🇧\" },\r\n  { name: \"Lesotho\", dial_code: \"+266\", code: \"LS\", flag: \"🇱🇸\" },\r\n  { name: \"Liberia\", dial_code: \"+231\", code: \"LR\", flag: \"🇱🇷\" },\r\n  {\r\n    name: \"Libyan Arab Jamahiriya\",\r\n    dial_code: \"+218\",\r\n    code: \"LY\",\r\n    flag: \"🇱🇾\"\r\n  },\r\n  { name: \"Liechtenstein\", dial_code: \"+423\", code: \"LI\", flag: \"🇱🇮\" },\r\n  { name: \"Lithuania\", dial_code: \"+370\", code: \"LT\", flag: \"🇱🇹\" },\r\n  { name: \"Luxembourg\", dial_code: \"+352\", code: \"LU\", flag: \"🇱🇺\" },\r\n  { name: \"Macao\", dial_code: \"+853\", code: \"MO\", flag: \"🇲🇴\" },\r\n  { name: \"Macedonia\", dial_code: \"+389\", code: \"MK\", flag: \"🇲🇰\" },\r\n  { name: \"Madagascar\", dial_code: \"+261\", code: \"MG\", flag: \"🇲🇬\" },\r\n  { name: \"Malawi\", dial_code: \"+265\", code: \"MW\", flag: \"🇲🇼\" },\r\n  { name: \"Malaysia\", dial_code: \"+60\", code: \"MY\", flag: \"🇲🇾\" },\r\n  { name: \"Maldives\", dial_code: \"+960\", code: \"MV\", flag: \"🇲🇻\" },\r\n  { name: \"Mali\", dial_code: \"+223\", code: \"ML\", flag: \"🇲🇱\" },\r\n  { name: \"Malta\", dial_code: \"+356\", code: \"MT\", flag: \"🇲🇹\" },\r\n  {\r\n    name: \"Marshall Islands\",\r\n    dial_code: \"+692\",\r\n    code: \"MH\",\r\n    flag: \"🇲🇭\"\r\n  },\r\n  { name: \"Martinique\", dial_code: \"+596\", code: \"MQ\", flag: \"🇲🇶\" },\r\n  { name: \"Mauritania\", dial_code: \"+222\", code: \"MR\", flag: \"🇲🇷\" },\r\n  { name: \"Mauritius\", dial_code: \"+230\", code: \"MU\", flag: \"🇲🇺\" },\r\n  { name: \"Mayotte\", dial_code: \"+262\", code: \"YT\", flag: \"🇾🇹\" },\r\n  { name: \"Mexico\", dial_code: \"+52\", code: \"MX\", flag: \"🇲🇽\" },\r\n  {\r\n    name: \"Micronesia, Federated States of Micronesia\",\r\n    dial_code: \"+691\",\r\n    code: \"FM\",\r\n    flag: \"🇫🇲\"\r\n  },\r\n  { name: \"Moldova\", dial_code: \"+373\", code: \"MD\", flag: \"🇲🇩\" },\r\n  { name: \"Monaco\", dial_code: \"+377\", code: \"MC\", flag: \"🇲🇨\" },\r\n  { name: \"Mongolia\", dial_code: \"+976\", code: \"MN\", flag: \"🇲🇳\" },\r\n  { name: \"Montenegro\", dial_code: \"+382\", code: \"ME\", flag: \"🇲🇪\" },\r\n  { name: \"Montserrat\", dial_code: \"+1664\", code: \"MS\", flag: \"🇲🇸\" },\r\n  { name: \"Morocco\", dial_code: \"+212\", code: \"MA\", flag: \"🇲🇦\" },\r\n  { name: \"Mozambique\", dial_code: \"+258\", code: \"MZ\", flag: \"🇲🇿\" },\r\n  { name: \"Myanmar\", dial_code: \"+95\", code: \"MM\", flag: \"🇲🇲\" },\r\n  { name: \"Namibia\", dial_code: \"+264\", code: \"NA\", flag: \"🇳🇦\" },\r\n  { name: \"Nauru\", dial_code: \"+674\", code: \"NR\", flag: \"🇳🇷\" },\r\n  { name: \"Nepal\", dial_code: \"+977\", code: \"NP\", flag: \"🇳🇵\" },\r\n  { name: \"Netherlands\", dial_code: \"+31\", code: \"NL\", flag: \"🇳🇱\" },\r\n  {\r\n    name: \"Netherlands Antilles\",\r\n    dial_code: \"+599\",\r\n    code: \"AN\",\r\n    flag: \"🇳🇱\"\r\n  },\r\n  { name: \"New Caledonia\", dial_code: \"+687\", code: \"NC\", flag: \"🇳🇨\" },\r\n  { name: \"New Zealand\", dial_code: \"+64\", code: \"NZ\", flag: \"🇳🇿\" },\r\n  { name: \"Nicaragua\", dial_code: \"+505\", code: \"NI\", flag: \"🇳🇮\" },\r\n  { name: \"Niger\", dial_code: \"+227\", code: \"NE\", flag: \"🇳🇪\" },\r\n  { name: \"Nigeria\", dial_code: \"+234\", code: \"NG\", flag: \"🇳🇬\" },\r\n  { name: \"Niue\", dial_code: \"+683\", code: \"NU\", flag: \"🇳🇺\" },\r\n  { name: \"Norfolk Island\", dial_code: \"+672\", code: \"NF\", flag: \"🇳🇫\" },\r\n  {\r\n    name: \"Northern Mariana Islands\",\r\n    dial_code: \"+1670\",\r\n    code: \"MP\",\r\n    flag: \"🏳\"\r\n  },\r\n  { name: \"Norway\", dial_code: \"+47\", code: \"NO\", flag: \"🇳🇴\" },\r\n  { name: \"Oman\", dial_code: \"+968\", code: \"OM\", flag: \"🇴🇲\" },\r\n  { name: \"Pakistan\", dial_code: \"+92\", code: \"PK\", flag: \"🇵🇰\" },\r\n  { name: \"Palau\", dial_code: \"+680\", code: \"PW\", flag: \"🇵🇼\" },\r\n  {\r\n    name: \"Palestinian Territory, Occupied\",\r\n    dial_code: \"+970\",\r\n    code: \"PS\",\r\n    flag: \"🇵🇸\"\r\n  },\r\n  { name: \"Panama\", dial_code: \"+507\", code: \"PA\", flag: \"🇵🇦\" },\r\n  {\r\n    name: \"Papua New Guinea\",\r\n    dial_code: \"+675\",\r\n    code: \"PG\",\r\n    flag: \"🇵🇬\"\r\n  },\r\n  { name: \"Paraguay\", dial_code: \"+595\", code: \"PY\", flag: \"🇵🇾\" },\r\n  { name: \"Peru\", dial_code: \"+51\", code: \"PE\", flag: \"🇵🇪\" },\r\n  { name: \"Philippines\", dial_code: \"+63\", code: \"PH\", flag: \"🇵🇭\" },\r\n  { name: \"Pitcairn\", dial_code: \"+64\", code: \"PN\", flag: \"🇵🇳\" },\r\n  { name: \"Poland\", dial_code: \"+48\", code: \"PL\", flag: \"🇵🇱\" },\r\n  { name: \"Portugal\", dial_code: \"+351\", code: \"PT\", flag: \"🇵🇹\" },\r\n  { name: \"Puerto Rico\", dial_code: \"+1939\", code: \"PR\", flag: \"🇵🇷\" },\r\n  { name: \"Qatar\", dial_code: \"+974\", code: \"QA\", flag: \"🇶🇦\" },\r\n  { name: \"Romania\", dial_code: \"+40\", code: \"RO\", flag: \"🇷🇴\" },\r\n  { name: \"Russia\", dial_code: \"+7\", code: \"RU\", flag: \"🇷🇺\" },\r\n  { name: \"Rwanda\", dial_code: \"+250\", code: \"RW\", flag: \"🇷🇼\" },\r\n  { name: \"Reunion\", dial_code: \"+262\", code: \"RE\", flag: \"🇫🇷\" },\r\n  {\r\n    name: \"Saint Barthelemy\",\r\n    dial_code: \"+590\",\r\n    code: \"BL\",\r\n    flag: \"🇧🇱\"\r\n  },\r\n  {\r\n    name: \"Saint Helena, Ascension and Tristan Da Cunha\",\r\n    dial_code: \"+290\",\r\n    code: \"SH\",\r\n    flag: \"🇸🇭\"\r\n  },\r\n  {\r\n    name: \"Saint Kitts and Nevis\",\r\n    dial_code: \"+1869\",\r\n    code: \"KN\",\r\n    flag: \"🇰🇳\"\r\n  },\r\n  { name: \"Saint Lucia\", dial_code: \"+1758\", code: \"LC\", flag: \"🇱🇨\" },\r\n  { name: \"Saint Martin\", dial_code: \"+590\", code: \"MF\", flag: \"🏳\" },\r\n  {\r\n    name: \"Saint Pierre and Miquelon\",\r\n    dial_code: \"+508\",\r\n    code: \"PM\",\r\n    flag: \"🇵🇲\"\r\n  },\r\n  {\r\n    name: \"Saint Vincent and the Grenadines\",\r\n    dial_code: \"+1784\",\r\n    code: \"VC\",\r\n    flag: \"🇻🇨\"\r\n  },\r\n  { name: \"Samoa\", dial_code: \"+685\", code: \"WS\", flag: \"🇼🇸\" },\r\n  { name: \"San Marino\", dial_code: \"+378\", code: \"SM\", flag: \"🇸🇲\" },\r\n  {\r\n    name: \"Sao Tome and Principe\",\r\n    dial_code: \"+239\",\r\n    code: \"ST\",\r\n    flag: \"🇸🇹\"\r\n  },\r\n  { name: \"Saudi Arabia\", dial_code: \"+966\", code: \"SA\", flag: \"🇸🇦\" },\r\n  { name: \"Senegal\", dial_code: \"+221\", code: \"SN\", flag: \"🇸🇳\" },\r\n  { name: \"Serbia\", dial_code: \"+381\", code: \"RS\", flag: \"🇷🇸\" },\r\n  { name: \"Seychelles\", dial_code: \"+248\", code: \"SC\", flag: \"🇸🇨\" },\r\n  { name: \"Sierra Leone\", dial_code: \"+232\", code: \"SL\", flag: \"🇸🇱\" },\r\n  { name: \"Singapore\", dial_code: \"+65\", code: \"SG\", flag: \"🇸🇬\" },\r\n  { name: \"Slovakia\", dial_code: \"+421\", code: \"SK\", flag: \"🇸🇰\" },\r\n  { name: \"Slovenia\", dial_code: \"+386\", code: \"SI\", flag: \"🇸🇮\" },\r\n  {\r\n    name: \"Solomon Islands\",\r\n    dial_code: \"+677\",\r\n    code: \"SB\",\r\n    flag: \"🇸🇧\"\r\n  },\r\n  { name: \"Somalia\", dial_code: \"+252\", code: \"SO\", flag: \"🇸🇴\" },\r\n  { name: \"South Africa\", dial_code: \"+27\", code: \"ZA\", flag: \"🇿🇦\" },\r\n  { name: \"South Sudan\", dial_code: \"+211\", code: \"SS\", flag: \"🇸🇸\" },\r\n  {\r\n    name: \"South Georgia and the South Sandwich Islands\",\r\n    dial_code: \"+500\",\r\n    code: \"GS\",\r\n    flag: \"🇬🇸\"\r\n  },\r\n  { name: \"Spain\", dial_code: \"+34\", code: \"ES\", flag: \"🇪🇸\" },\r\n  { name: \"Sri Lanka\", dial_code: \"+94\", code: \"LK\", flag: \"🇱🇰\" },\r\n  { name: \"Sudan\", dial_code: \"+249\", code: \"SD\", flag: \"🇸🇩\" },\r\n  { name: \"Suriname\", dial_code: \"+597\", code: \"SR\", flag: \"🇸🇷\" },\r\n  {\r\n    name: \"Svalbard and Jan Mayen\",\r\n    dial_code: \"+47\",\r\n    code: \"SJ\",\r\n    flag: \"🇩🇰\"\r\n  },\r\n  { name: \"Swaziland\", dial_code: \"+268\", code: \"SZ\", flag: \"🇸🇿\" },\r\n  { name: \"Sweden\", dial_code: \"+46\", code: \"SE\", flag: \"🇸🇪\" },\r\n  { name: \"Switzerland\", dial_code: \"+41\", code: \"CH\", flag: \"🇨🇭\" },\r\n  {\r\n    name: \"Syrian Arab Republic\",\r\n    dial_code: \"+963\",\r\n    code: \"SY\",\r\n    flag: \"🇸🇾\"\r\n  },\r\n  { name: \"Taiwan\", dial_code: \"+886\", code: \"TW\", flag: \"🇹🇼\" },\r\n  { name: \"Tajikistan\", dial_code: \"+992\", code: \"TJ\", flag: \"🇹🇯\" },\r\n  {\r\n    name: \"Tanzania, United Republic of Tanzania\",\r\n    dial_code: \"+255\",\r\n    code: \"TZ\",\r\n    flag: \"🇹🇿\"\r\n  },\r\n  { name: \"Thailand\", dial_code: \"+66\", code: \"TH\", flag: \"🇹🇭\" },\r\n  { name: \"Timor-Leste\", dial_code: \"+670\", code: \"TL\", flag: \"🇹🇱\" },\r\n  { name: \"Togo\", dial_code: \"+228\", code: \"TG\", flag: \"🇹🇬\" },\r\n  { name: \"Tokelau\", dial_code: \"+690\", code: \"TK\", flag: \"🇹🇰\" },\r\n  { name: \"Tonga\", dial_code: \"+676\", code: \"TO\", flag: \"🇹🇴\" },\r\n  {\r\n    name: \"Trinidad and Tobago\",\r\n    dial_code: \"+1868\",\r\n    code: \"TT\",\r\n    flag: \"🇹🇹\"\r\n  },\r\n  { name: \"Tunisia\", dial_code: \"+216\", code: \"TN\", flag: \"🇹🇳\" },\r\n  { name: \"Turkey\", dial_code: \"+90\", code: \"TR\", flag: \"🇹🇷\" },\r\n  { name: \"Turkmenistan\", dial_code: \"+993\", code: \"TM\", flag: \"🇹🇲\" },\r\n  {\r\n    name: \"Turks and Caicos Islands\",\r\n    dial_code: \"+1649\",\r\n    code: \"TC\",\r\n    flag: \"🇹🇨\"\r\n  },\r\n  { name: \"Tuvalu\", dial_code: \"+688\", code: \"TV\", flag: \"🇹🇻\" },\r\n  { name: \"Uganda\", dial_code: \"+256\", code: \"UG\", flag: \"🇺🇬\" },\r\n  { name: \"Ukraine\", dial_code: \"+380\", code: \"UA\", flag: \"🇺🇦\" },\r\n  {\r\n    name: \"United Arab Emirates\",\r\n    dial_code: \"+971\",\r\n    code: \"AE\",\r\n    flag: \"🇦🇪\"\r\n  },\r\n  { name: \"United Kingdom\", dial_code: \"+44\", code: \"GB\", flag: \"🇬🇧\" },\r\n  { name: \"United States\", dial_code: \"+1\", code: \"US\", flag: \"🇺🇸\" },\r\n  { name: \"Uruguay\", dial_code: \"+598\", code: \"UY\", flag: \"🇺🇾\" },\r\n  { name: \"Uzbekistan\", dial_code: \"+998\", code: \"UZ\", flag: \"🇺🇿\" },\r\n  { name: \"Vanuatu\", dial_code: \"+678\", code: \"VU\", flag: \"🇻🇺\" },\r\n  {\r\n    name: \"Venezuela, Bolivarian Republic of Venezuela\",\r\n    dial_code: \"+58\",\r\n    code: \"VE\",\r\n    flag: \"🇻🇪\"\r\n  },\r\n  { name: \"Vietnam\", dial_code: \"+84\", code: \"VN\", flag: \"🇻🇳\" },\r\n  {\r\n    name: \"Virgin Islands, British\",\r\n    dial_code: \"+1284\",\r\n    code: \"VG\",\r\n    flag: \"🇻🇬\"\r\n  },\r\n  {\r\n    name: \"Virgin Islands, U.S.\",\r\n    dial_code: \"+1340\",\r\n    code: \"VI\",\r\n    flag: \"🇻🇮\"\r\n  },\r\n  {\r\n    name: \"Wallis and Futuna\",\r\n    dial_code: \"+681\",\r\n    code: \"WF\",\r\n    flag: \"🇼🇫\"\r\n  },\r\n  { name: \"Yemen\", dial_code: \"+967\", code: \"YE\", flag: \"🇾🇪\" },\r\n  { name: \"Zambia\", dial_code: \"+260\", code: \"ZM\", flag: \"🇿🇲\" },\r\n  { name: \"Zimbabwe\", dial_code: \"+263\", code: \"ZW\", flag: \"🇿🇼\" }\r\n];\r\n\r\nexport default countries;\r\n","import React from \"react\";\r\nimport Helmet from \"react-helmet\";\r\nimport styled from \"styled-components\";\r\nimport BackArrow from \"src/Components/BackArrow\";\r\nimport countries from \"src/countries\";\r\nimport Input from \"src/Components/Input\";\r\n\r\nconst Container = styled.div`\r\n  margin-top: 30px;\r\n  padding: 50px 20px;\r\n`;\r\n\r\nconst BackArrowExtended = styled(BackArrow)`\r\n  position: absolute;\r\n  top: 20px;\r\n  left: 20px;\r\n`;\r\n\r\nconst Title = styled.h2`\r\n  font-size: 25px;\r\n  margin-bottom: 40px;\r\n`;\r\n\r\nconst CountrySelect = styled.select`\r\n  font-size: 20px;\r\n  color: \"#2c3e50\";\r\n  -webkit-appearance: none;\r\n  -moz-appearance: none;\r\n  appearance: none;\r\n  background-color: white;\r\n  border: 0;\r\n  font-family: \"Maven Pro\";\r\n  margin-bottom: 20px;\r\n  width: 90%;\r\n`;\r\n\r\nconst CountryOption = styled.option``;\r\n\r\nconst Form = styled.form``;\r\n\r\nconst Button = styled.button`\r\n  box-shadow: 0 18px 35px rgba(50, 50, 93, 0.1), 0 8px 15px rgba(0, 0, 0, 0.07);\r\n  background-color: black;\r\n  color: white;\r\n  padding: 20px;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  position: absolute;\r\n  bottom: 50px;\r\n  right: 50px;\r\n  cursor: pointer;\r\n`;\r\n\r\ninterface IProps {\r\n  countryCode: string;\r\n  phoneNumber: string;\r\n  onInputChange: (\r\n    event: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>\r\n  ) => void;\r\n  onSubmit: (event: React.FormEvent<HTMLFormElement>) => void;\r\n  loading: boolean;\r\n}\r\n\r\nconst PhoneLoginPresenter: React.FC<IProps> = ({\r\n  countryCode,\r\n  phoneNumber,\r\n  onInputChange,\r\n  onSubmit,\r\n  loading\r\n}) => (\r\n  <Container>\r\n    <Helmet>\r\n      <title>Phone Login | Nuber</title>\r\n    </Helmet>\r\n    <BackArrowExtended backTo={\"/\"} />\r\n    <Title>Enter your mobile number</Title>\r\n    <CountrySelect\r\n      value={countryCode}\r\n      name=\"countryCode\"\r\n      onChange={onInputChange}\r\n    >\r\n      {countries.map((country, index) => (\r\n        <CountryOption key={index} value={country.dial_code}>\r\n          {country.flag} {country.name} ({country.dial_code})\r\n        </CountryOption>\r\n      ))}\r\n    </CountrySelect>\r\n    <Form onSubmit={onSubmit}>\r\n      <Input\r\n        placeholder={\"053 690 2129\"}\r\n        value={phoneNumber}\r\n        name=\"phoneNumber\"\r\n        onChange={onInputChange}\r\n      />\r\n      <Button onClick={onSubmit}>\r\n        {loading ? (\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"24\"\r\n            height=\"24\"\r\n            viewBox=\"0 0 24 24\"\r\n            fill={\"white\"}\r\n          >\r\n            <path d=\"M13.75 22c0 .966-.783 1.75-1.75 1.75s-1.75-.784-1.75-1.75.783-1.75 1.75-1.75 1.75.784 1.75 1.75zm-1.75-22c-1.104 0-2 .896-2 2s.896 2 2 2 2-.896 2-2-.896-2-2-2zm10 10.75c.689 0 1.249.561 1.249 1.25 0 .69-.56 1.25-1.249 1.25-.69 0-1.249-.559-1.249-1.25 0-.689.559-1.25 1.249-1.25zm-22 1.25c0 1.105.896 2 2 2s2-.895 2-2c0-1.104-.896-2-2-2s-2 .896-2 2zm19-8c.551 0 1 .449 1 1 0 .553-.449 1.002-1 1-.551 0-1-.447-1-.998 0-.553.449-1.002 1-1.002zm0 13.5c.828 0 1.5.672 1.5 1.5s-.672 1.501-1.502 1.5c-.826 0-1.498-.671-1.498-1.499 0-.829.672-1.501 1.5-1.501zm-14-14.5c1.104 0 2 .896 2 2s-.896 2-2.001 2c-1.103 0-1.999-.895-1.999-2s.896-2 2-2zm0 14c1.104 0 2 .896 2 2s-.896 2-2.001 2c-1.103 0-1.999-.895-1.999-2s.896-2 2-2z\" />\r\n          </svg>\r\n        ) : (\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"24\"\r\n            height=\"24\"\r\n            viewBox=\"0 0 24 24\"\r\n            fill={\"white\"}\r\n          >\r\n            <path d=\"M7.33 24l-2.83-2.829 9.339-9.175-9.339-9.167 2.83-2.829 12.17 11.996z\" />\r\n          </svg>\r\n        )}\r\n      </Button>\r\n    </Form>\r\n  </Container>\r\n);\r\n\r\nexport default PhoneLoginPresenter;\r\n","import { gql } from \"apollo-boost\";\r\n\r\nexport const PHONE_SIGN_IN = gql`\r\n  mutation startPhoneVerification($phoneNumber: String!) {\r\n    StartPhoneVerification(phoneNumber: $phoneNumber) {\r\n      ok\r\n      error\r\n    }\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport PhoneLoginPresenter from \"./PhoneLoginPresenter\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport {\r\n  startPhoneVerification,\r\n  startPhoneVerificationVariables\r\n} from \"../../types/api\";\r\nimport { Mutation, MutationFn } from \"react-apollo\";\r\nimport { PHONE_SIGN_IN } from \"./PhoneQueries\";\r\n\r\ninterface IState {\r\n  countryCode: string;\r\n  phoneNumber: string;\r\n}\r\n\r\nclass PhoneSignInMutation extends Mutation<\r\n  startPhoneVerification,\r\n  startPhoneVerificationVariables\r\n> {}\r\n\r\nclass PhoneLoginContainer extends React.Component<\r\n  RouteComponentProps<any>,\r\n  IState\r\n> {\r\n  public phoneMutation:\r\n    | MutationFn<startPhoneVerification, startPhoneVerificationVariables>\r\n    | any;\r\n  public state = {\r\n    countryCode: \"+82\",\r\n    phoneNumber: \"\"\r\n  };\r\n\r\n  public onInputChange: React.ChangeEventHandler<\r\n    HTMLInputElement | HTMLSelectElement\r\n  > = event => {\r\n    const {\r\n      target: { name, value }\r\n    } = event;\r\n\r\n    this.setState({\r\n      [name]: value\r\n    } as any);\r\n  };\r\n\r\n  public onSubmit: React.FormEventHandler<HTMLFormElement> = event => {\r\n    event.preventDefault();\r\n\r\n    const { countryCode, phoneNumber } = this.state;\r\n    const phone = `${countryCode}${phoneNumber}`;\r\n\r\n    // tslint:disable-next-line\r\n    const isValid = /^\\+[1-9]{1}[0-9]{7,11}$/.test(phone);\r\n    if (isValid) {\r\n      this.phoneMutation();\r\n    } else {\r\n      toast.error(\"Please write a valid phone number\");\r\n    }\r\n  };\r\n\r\n  public render() {\r\n    const { history } = this.props;\r\n    const { countryCode, phoneNumber } = this.state;\r\n    return (\r\n      <PhoneSignInMutation\r\n        mutation={PHONE_SIGN_IN}\r\n        variables={{\r\n          phoneNumber: `${countryCode}${phoneNumber}`\r\n        }}\r\n        onCompleted={data => {\r\n          const { StartPhoneVerification } = data;\r\n          const phone = `${countryCode}${phoneNumber}`;\r\n\r\n          if (StartPhoneVerification.ok) {\r\n            toast.success(\"SMS Sent! Redirecting you...\");\r\n            setTimeout(() => {\r\n              history.push({\r\n                pathname: \"/verify-phone\",\r\n                state: {\r\n                  phone\r\n                }\r\n              });\r\n            }, 2000);\r\n          } else {\r\n            toast.error(StartPhoneVerification.error);\r\n          }\r\n        }}\r\n      >\r\n        {(phoneMutation, { loading }) => {\r\n          this.phoneMutation = phoneMutation;\r\n          return (\r\n            <PhoneLoginPresenter\r\n              countryCode={countryCode}\r\n              phoneNumber={phoneNumber}\r\n              onInputChange={this.onInputChange}\r\n              onSubmit={this.onSubmit}\r\n              loading={loading}\r\n            />\r\n          );\r\n        }}\r\n      </PhoneSignInMutation>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PhoneLoginContainer;\r\n","import PhoneLoginContainer from \"./PhoneLoginContainer\";\r\nexport default PhoneLoginContainer;\r\n","import React from \"react\";\r\nimport styled from \"../../typed-component\";\r\nimport { MutationFn } from \"react-apollo\";\r\nimport { editPlace, editPlaceVariables } from \"src/types/api\";\r\n\r\nconst Place = styled.div`\r\n  margin: 15px 0;\r\n  display: flex;\r\n  align-items: center;\r\n  & i {\r\n    font-size: 12px;\r\n  }\r\n`;\r\n\r\nconst Container = styled.div`\r\n  margin-left: 10px;\r\n`;\r\n\r\nconst Name = styled.span`\r\n  display: block;\r\n`;\r\n\r\nconst Icon = styled.span`\r\n  cursor: pointer;\r\n`;\r\n\r\nconst Address = styled.span`\r\n  color: ${props => props.theme.greyColor};\r\n  font-size: 14px;\r\n`;\r\n\r\ninterface IProps {\r\n  fav: boolean;\r\n  name: string;\r\n  address: string;\r\n  onStarPress: MutationFn<editPlace, editPlaceVariables>;\r\n}\r\n\r\nconst PlacePresenter: React.FC<IProps> = ({\r\n  fav,\r\n  name,\r\n  address,\r\n  onStarPress\r\n}) => (\r\n  <Place>\r\n    <Icon onClick={onStarPress as any}>{fav ? \"★\" : \"☆\"}</Icon>\r\n    <Container>\r\n      <Name>{name}</Name>\r\n      <Address>{address}</Address>\r\n    </Container>\r\n  </Place>\r\n);\r\n\r\nexport default PlacePresenter;\r\n","import { gql } from \"apollo-boost\";\r\n\r\nexport const EDIT_PLACE = gql`\r\n  mutation editPlace($placeId: Int!, $isFav: Boolean) {\r\n    EditPlace(placeId: $placeId, isFav: $isFav) {\r\n      ok\r\n      error\r\n    }\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport PlacePresenter from \"./PlacePresenter\";\r\nimport { Mutation } from \"react-apollo\";\r\nimport { editPlace, editPlaceVariables } from \"src/types/api\";\r\nimport { EDIT_PLACE } from \"src/Routes/Places/PlaceQueries\";\r\nimport { GET_PLACES } from \"src/sharedQueries\";\r\n\r\ninterface IProps {\r\n  fav: boolean;\r\n  name: string;\r\n  address: string;\r\n  id: number;\r\n}\r\n\r\nclass FavMutation extends Mutation<editPlace, editPlaceVariables> {}\r\n\r\nclass PlaceContainer extends React.Component<IProps> {\r\n  public render() {\r\n    const { id, fav, name, address } = this.props;\r\n    return (\r\n      <FavMutation\r\n        mutation={EDIT_PLACE}\r\n        refetchQueries={[{ query: GET_PLACES }]}\r\n        variables={{\r\n          placeId: id,\r\n          isFav: !fav\r\n        }}\r\n      >\r\n        {editPlaceFn => {\r\n          return (\r\n            <PlacePresenter\r\n              onStarPress={editPlaceFn}\r\n              fav={fav}\r\n              name={name}\r\n              address={address}\r\n            />\r\n          );\r\n        }}\r\n      </FavMutation>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PlaceContainer;\r\n","import PlaceContainer from \"./PlaceContainer\";\r\nexport default PlaceContainer;\r\n","import React from \"react\";\r\nimport styled from \"../../typed-component\";\r\nimport Helmet from \"react-helmet\";\r\nimport { getPlaces } from \"src/types/api\";\r\nimport Place from \"src/Components/Place\";\r\nimport Header from \"src/Components/Header\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Container = styled.div`\r\n  padding: 0 40px;\r\n`;\r\n\r\nconst SLink = styled(Link)`\r\n  text-decoration: underline;\r\n`;\r\n\r\ninterface IProps {\r\n  data?: getPlaces;\r\n  loading: boolean;\r\n}\r\n\r\nconst PlacesPresenter: React.FC<IProps> = ({\r\n  data: { GetMyPlaces: { places = null } = {} } = {},\r\n  loading\r\n}) => {\r\n  return (\r\n    <React.Fragment>\r\n      <Helmet>\r\n        <title>Places | Nuber</title>\r\n      </Helmet>\r\n      <Container>\r\n        <Header title={\"Places\"} backTo={\"/\"} />\r\n        {!loading && places && places.length === 0 && \"You have no places\"}\r\n        {!loading &&\r\n          places &&\r\n          places.map(place => (\r\n            <Place\r\n              key={place!.id}\r\n              id={place!.id}\r\n              fav={place!.isFav}\r\n              name={place!.name}\r\n              address={place!.address}\r\n            />\r\n          ))}\r\n        <SLink to={\"/add-place\"}>Add some places!</SLink>\r\n      </Container>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default PlacesPresenter;\r\n","import React from \"react\";\r\nimport PlacesPresenter from \"./PlacesPresenter\";\r\nimport { Query } from \"react-apollo\";\r\nimport { getPlaces } from \"../../types/api\";\r\nimport { GET_PLACES } from \"src/sharedQueries\";\r\n\r\nclass PlacesQuery extends Query<getPlaces> {}\r\n\r\nclass PlacesContainer extends React.Component {\r\n  public render() {\r\n    return (\r\n      <PlacesQuery query={GET_PLACES}>\r\n        {({ data, loading }) => (\r\n          <PlacesPresenter data={data} loading={loading} />\r\n        )}\r\n      </PlacesQuery>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PlacesContainer;\r\n","import PlacesContainer from \"./PlacesContainer\";\r\nexport default PlacesContainer;\r\n","import React from \"react\";\r\nimport styled from \"../../typed-component\";\r\nimport {\r\n  getRide,\r\n  userProfile,\r\n  updateRide,\r\n  updateRideVariables,\r\n} from \"src/types/api\";\r\nimport Button from \"src/Components/Button\";\r\nimport { MutationFn } from \"react-apollo\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Container = styled.div`\r\n  padding: 40px;\r\n`;\r\n\r\nconst Title = styled.h4`\r\n  font-weight: 800;\r\n  margin-top: 30px;\r\n  margin-bottom: 10px;\r\n  &:first-child {\r\n    margin-top: 0;\r\n  }\r\n`;\r\n\r\nconst Data = styled.span`\r\n  color: ${(props) => props.theme.blueColor};\r\n`;\r\n\r\nconst Img = styled.img`\r\n  border-radius: 50%;\r\n  margin-right: 20px;\r\n  max-width: 50px;\r\n  height: 50px;\r\n`;\r\n\r\nconst Passenger = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nconst Buttons = styled.div`\r\n  margin: 30px; 0px;\r\n`;\r\n\r\nconst ExtendedButton = styled(Button)`\r\n  margin-bottom: 30px;\r\n`;\r\n\r\ninterface IProps {\r\n  data?: getRide;\r\n  userData?: userProfile;\r\n  loading: boolean;\r\n  updateRideFn: MutationFn<updateRide, updateRideVariables>;\r\n}\r\n\r\nconst RidePresenter: React.FC<IProps> = ({\r\n  data: { GetRide: { ride = null } = {} } = {},\r\n  userData: { GetMyProfile: { user = null } = {} } = {},\r\n  updateRideFn,\r\n}) => (\r\n  <Container>\r\n    {ride && user && (\r\n      <React.Fragment>\r\n        <Title>Passenger</Title>\r\n        <Passenger>\r\n          <Img src={ride.passenger.profilePhoto!} />\r\n          <Data>{ride.passenger.fullName!}</Data>\r\n        </Passenger>\r\n        {ride.driver && (\r\n          <React.Fragment>\r\n            <Title>Driver</Title>\r\n            <Passenger>\r\n              <Img src={ride.driver.profilePhoto!} />\r\n              <Data>{ride.driver.fullName!}</Data>\r\n            </Passenger>\r\n          </React.Fragment>\r\n        )}\r\n        <Title>From</Title>\r\n        <Data>{ride.pickUpAddress}</Data>\r\n        <Title>To</Title>\r\n        <Data>{ride.dropOffAddress}</Data>\r\n        <Title>Price</Title>\r\n        <Data>{ride.price}</Data>\r\n        <Title>Distance</Title>\r\n        <Data>{ride.distance}</Data>\r\n        <Title>Duration</Title>\r\n        <Data>{ride.duration}</Data>\r\n        <Title>Status</Title>\r\n        <Data>{ride.status}</Data>\r\n        <Buttons>\r\n          {ride.driver.id === user.id && ride.status === \"ACCEPTED\" && (\r\n            <ExtendedButton\r\n              value={\"Picked Up\"}\r\n              onClick={() =>\r\n                updateRideFn({\r\n                  variables: {\r\n                    rideId: ride.id,\r\n                    status: \"ONROUTE\",\r\n                  },\r\n                })\r\n              }\r\n            />\r\n          )}\r\n          {ride.driver &&\r\n            ride.driver.id === user.id &&\r\n            ride.status === \"ONROUTE\" && (\r\n              <ExtendedButton\r\n                value={\"Finished\"}\r\n                onClick={() =>\r\n                  updateRideFn({\r\n                    variables: {\r\n                      rideId: ride.id,\r\n                      status: \"FINISHED\",\r\n                    },\r\n                  })\r\n                }\r\n              />\r\n            )}\r\n          {ride.status !== \"REQUESTING\" && (\r\n            <Link to={`/chat/${ride.chatId}`}>\r\n              <ExtendedButton value={\"Chat\"} onClick={null} />\r\n            </Link>\r\n          )}\r\n        </Buttons>\r\n      </React.Fragment>\r\n    )}\r\n  </Container>\r\n);\r\n\r\nexport default RidePresenter;\r\n","import { gql } from \"apollo-boost\";\r\n\r\nexport const GET_RIDE = gql`\r\n  query getRide($rideId: Int!) {\r\n    GetRide(rideId: $rideId) {\r\n      ok\r\n      error\r\n      ride {\r\n        id\r\n        status\r\n        pickUpAddress\r\n        dropOffAddress\r\n        price\r\n        distance\r\n        duration\r\n        driver {\r\n          id\r\n          fullName\r\n          profilePhoto\r\n        }\r\n        passenger {\r\n          id\r\n          fullName\r\n          profilePhoto\r\n        }\r\n        chatId\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const RIDE_SUBSCRIPTION = gql`\r\n  subscription rideUpdates {\r\n    RideStatusSubscription {\r\n      id\r\n      status\r\n      pickUpAddress\r\n      dropOffAddress\r\n      price\r\n      distance\r\n      duration\r\n      driver {\r\n        id\r\n        fullName\r\n        profilePhoto\r\n      }\r\n      passenger {\r\n        id\r\n        fullName\r\n        profilePhoto\r\n      }\r\n      chatId\r\n    }\r\n  }\r\n`;\r\n\r\nexport const UPDATE_RIDE_STATUS = gql`\r\n  mutation updateRide($rideId: Int!, $status: String!) {\r\n    UpdateRideStatus(rideId: $rideId, status: $status) {\r\n      ok\r\n      error\r\n      rideId\r\n    }\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport RidePresenter from \"./RidePresenter\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport { Query, Mutation } from \"react-apollo\";\r\nimport {\r\n  getRide,\r\n  getRideVariables,\r\n  userProfile,\r\n  updateRide,\r\n  updateRideVariables,\r\n} from \"src/types/api\";\r\nimport { GET_RIDE, RIDE_SUBSCRIPTION, UPDATE_RIDE_STATUS } from \"./RideQueries\";\r\nimport { USER_PROFILE } from \"src/sharedQueries\";\r\nimport { SubscribeToMoreOptions } from \"apollo-boost\";\r\n\r\nclass RideQuery extends Query<getRide, getRideVariables> {}\r\nclass ProfileQuery extends Query<userProfile> {}\r\nclass RideUpdate extends Mutation<updateRide, updateRideVariables> {}\r\n\r\ninterface IProps extends RouteComponentProps<any> {}\r\n\r\nclass RideContainer extends React.Component<IProps> {\r\n  constructor(props: IProps) {\r\n    super(props);\r\n    if (!props.match.params.rideId) {\r\n      props.history.push(\"/\");\r\n    }\r\n  }\r\n\r\n  public render() {\r\n    const {\r\n      match: {\r\n        params: { rideId },\r\n      },\r\n    } = this.props;\r\n    return (\r\n      <ProfileQuery query={USER_PROFILE}>\r\n        {({ data: userData }) => (\r\n          <RideQuery query={GET_RIDE} variables={{ rideId }}>\r\n            {({ data, loading, subscribeToMore }) => {\r\n              const subscribeOptions: SubscribeToMoreOptions = {\r\n                document: RIDE_SUBSCRIPTION,\r\n                updateQuery: (prev, { subscriptionData }) => {\r\n                  if (!subscriptionData.data) {\r\n                    return prev;\r\n                  }\r\n                  const {\r\n                    data: {\r\n                      RideStatusSubscription: { status },\r\n                    },\r\n                  } = subscriptionData;\r\n\r\n                  if (status === \"FINISHED\") {\r\n                    window.location.href = \"/\";\r\n                  }\r\n                },\r\n              };\r\n              subscribeToMore(subscribeOptions);\r\n\r\n              return (\r\n                <RideUpdate mutation={UPDATE_RIDE_STATUS}>\r\n                  {(updateRideFn) => (\r\n                    <RidePresenter\r\n                      data={data}\r\n                      userData={userData}\r\n                      loading={loading}\r\n                      updateRideFn={updateRideFn}\r\n                    />\r\n                  )}\r\n                </RideUpdate>\r\n              );\r\n            }}\r\n          </RideQuery>\r\n        )}\r\n      </ProfileQuery>\r\n    );\r\n  }\r\n}\r\n\r\nexport default RideContainer;\r\n","import RideContainer from \"./RideContainer\";\r\nexport default RideContainer;\r\n","import { gql } from \"apollo-boost\";\r\nexport const LOG_USER_IN = gql`\r\n  mutation logUserIn($token: String!) {\r\n    logUserIn(token: $token) @client\r\n  }\r\n`;\r\n\r\nexport const LOG_USER_OUT = gql`\r\n  mutation logUserOut {\r\n    logUserOut @client\r\n  }\r\n`;\r\n/*\r\n  @client를 적음으로써 API사용이 아닌, \r\n  client쪽 명령(이 프로그램에서는 apollo.ts에 작성한 명령)\r\n  사용을 알릴 수 있음\r\n*/\r\n","import React from \"react\";\r\nimport { MutationFn } from \"react-apollo\";\r\nimport Helmet from \"react-helmet\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Header from \"../../Components/Header\";\r\nimport Place from \"../../Components/Place\";\r\nimport styled from \"../../typed-component\";\r\nimport { userProfile, getPlaces } from \"../../types/api\";\r\n\r\nconst Container = styled.div`\r\n  padding: 0px 40px;\r\n`;\r\n\r\nconst Image = styled.img`\r\n  height: 60px;\r\n  width: 60px;\r\n  border-radius: 50%;\r\n`;\r\n\r\nconst GridLink = styled(Link)`\r\n  display: grid;\r\n  grid-template-columns: 1fr 4fr;\r\n  grid-gap: 10px;\r\n  margin-bottom: 10px;\r\n`;\r\n\r\nconst Keys = styled.div``;\r\n\r\nconst Key = styled.span`\r\n  display: block;\r\n  margin-bottom: 5px;\r\n`;\r\n\r\nconst FakeLink = styled.span`\r\n  text-decoration: underline;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst SLink = styled(Link)`\r\n  display: block;\r\n  text-decoration: underline;\r\n  margin: 20px 0px;\r\n`;\r\n\r\ninterface IProps {\r\n  logUserOut: MutationFn;\r\n  userData?: userProfile;\r\n  userDataLoading: boolean;\r\n  placesData?: getPlaces;\r\n  placesLoading: boolean;\r\n}\r\n\r\nconst SettingsPresenter: React.SFC<IProps> = ({\r\n  logUserOut,\r\n  userData: { GetMyProfile: { user = null } = {} } = {},\r\n  userDataLoading,\r\n  placesData: { GetMyPlaces: { places = null } = {} } = {},\r\n  placesLoading\r\n}) => (\r\n  <React.Fragment>\r\n    <Helmet>\r\n      <title>Settings | Nuber</title>\r\n    </Helmet>\r\n    <Header title={\"Account Settings\"} backTo={\"/\"} />\r\n    <Container>\r\n      <GridLink to={\"/edit-account\"}>\r\n        {!userDataLoading &&\r\n          user &&\r\n          user.profilePhoto &&\r\n          user.email &&\r\n          user.fullName && (\r\n            <React.Fragment>\r\n              <Image src={null} />\r\n              <Keys>\r\n                <Key>{user.fullName}</Key>\r\n                <Key>{user.email}</Key>\r\n              </Keys>\r\n            </React.Fragment>\r\n          )}\r\n      </GridLink>\r\n      {!placesLoading &&\r\n        places &&\r\n        places.map(place => (\r\n          <Place\r\n            key={place!.id}\r\n            id={place!.id}\r\n            fav={place!.isFav}\r\n            name={place!.name}\r\n            address={place!.address}\r\n          />\r\n        ))}\r\n      <SLink to={\"/places\"}>Go to Places</SLink>\r\n      <FakeLink onClick={logUserOut}>Log Out</FakeLink>\r\n    </Container>\r\n  </React.Fragment>\r\n);\r\n\r\nexport default SettingsPresenter;\r\n","import React from \"react\";\r\nimport { Mutation, Query } from \"react-apollo\";\r\nimport { LOG_USER_OUT } from \"src/sharedQueries.local\";\r\nimport SettingsPresenter from \"./SettingsPresenter\";\r\nimport { userProfile, getPlaces } from \"../../types/api\";\r\nimport { USER_PROFILE, GET_PLACES } from \"src/sharedQueries\";\r\n\r\nclass MiniProfileQuery extends Query<userProfile> {}\r\n\r\nclass PlacesQuery extends Query<getPlaces> {}\r\n\r\nclass SettingsContainer extends React.Component {\r\n  public render() {\r\n    return (\r\n      <Mutation mutation={LOG_USER_OUT}>\r\n        {logUserOut => (\r\n          <MiniProfileQuery query={USER_PROFILE}>\r\n            {({ data: userData, loading: userDataLoading }) => (\r\n              <PlacesQuery query={GET_PLACES}>\r\n                {({ data: placesData, loading: placesLoading }) => (\r\n                  <SettingsPresenter\r\n                    userDataLoading={userDataLoading}\r\n                    logUserOut={logUserOut}\r\n                    userData={userData}\r\n                    placesData={placesData}\r\n                    placesLoading={placesLoading}\r\n                  />\r\n                )}\r\n              </PlacesQuery>\r\n            )}\r\n          </MiniProfileQuery>\r\n        )}\r\n      </Mutation>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SettingsContainer;\r\n","import SettingsContainer from \"./SettingsContainer\";\r\nexport default SettingsContainer;\r\n","import React from \"react\";\r\nimport Helmet from \"react-helmet\";\r\nimport FacebookLogin from \"react-facebook-login/dist/facebook-login-render-props\";\r\nimport styled from \"styled-components\";\r\nimport BackArrow from \"src/Components/BackArrow\";\r\n\r\nconst Container = styled.div`\r\n  margin-top: 30px;\r\n  padding: 50px 20px;\r\n`;\r\n\r\nconst Title = styled.h2`\r\n  font-size: 25px;\r\n  margin-bottom: 40px;\r\n`;\r\n\r\nconst Link = styled.span`\r\n  display: flex;\r\n  align-items: center;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst Icon = styled.span`\r\n  margin-right: 10px;\r\n`;\r\n\r\nconst BackArrowExtended = styled(BackArrow)`\r\n  position: absolute;\r\n  top: 20px;\r\n  left: 20px;\r\n`;\r\n\r\ninterface IProps {\r\n  loginCallback: (response: any) => void;\r\n}\r\n\r\nconst SocialLoginPresenter: React.FC<IProps> = ({ loginCallback }) => (\r\n  <Container>\r\n    <Helmet>\r\n      <title>Social Login | Nuber</title>\r\n    </Helmet>\r\n    <Title>Choose an account</Title>\r\n    <BackArrowExtended backTo={\"/\"} />\r\n    <FacebookLogin\r\n      appId=\"253301535830034\"\r\n      autoLoad={false}\r\n      fields=\"name,first_name,last_name,email\"\r\n      callback={loginCallback}\r\n      render={renderProps => (\r\n        <Link onClick={renderProps.onClick}>\r\n          <Icon>\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              width=\"18\"\r\n              height=\"18\"\r\n              viewBox=\"0 0 24 24\"\r\n              fill=\"#344EA1\"\r\n            >\r\n              <path d=\"M22.675 0h-21.35c-.732 0-1.325.593-1.325 1.325v21.351c0 .731.593 1.324 1.325 1.324h11.495v-9.294h-3.128v-3.622h3.128v-2.671c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463.099 2.795.143v3.24l-1.918.001c-1.504 0-1.795.715-1.795 1.763v2.313h3.587l-.467 3.622h-3.12v9.293h6.116c.73 0 1.323-.593 1.323-1.325v-21.35c0-.732-.593-1.325-1.325-1.325z\" />\r\n            </svg>\r\n          </Icon>\r\n          Facebook\r\n        </Link>\r\n      )}\r\n    />\r\n  </Container>\r\n);\r\n\r\nexport default SocialLoginPresenter;\r\n\r\n// Icon은 iconmonstr.com에서 embed 형태로 주소를 가져올 수 있다.\r\n","import { gql } from \"apollo-boost\";\r\n\r\nexport const FACEBOOK_CONNECT = gql`\r\n  mutation facebookConnect(\r\n    $firstName: String!\r\n    $lastName: String!\r\n    $email: String\r\n    $fbId: String!\r\n  ) {\r\n    FacebookConnect(\r\n      firstName: $firstName\r\n      lastName: $lastName\r\n      email: $email\r\n      fbId: $fbId\r\n    ) {\r\n      ok\r\n      error\r\n      token\r\n    }\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport SocialLoginPresenter from \"./SocialLoginPresenter\";\r\nimport { Mutation, MutationFn } from \"react-apollo\";\r\nimport { facebookConnect, facebookConnectVariables } from \"src/types/api\";\r\nimport { FACEBOOK_CONNECT } from \"./SocialLoginQueries\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport { LOG_USER_IN } from \"src/sharedQueries.local\";\r\n\r\nclass LoginMutation extends Mutation<\r\n  facebookConnect,\r\n  facebookConnectVariables\r\n> {}\r\n\r\ninterface IState {\r\n  firstName: string;\r\n  lastName: string;\r\n  email?: string;\r\n  fbId: string;\r\n}\r\n\r\ninterface IProps extends RouteComponentProps<any> {}\r\n\r\nclass SocialLoginContainer extends React.Component<IProps, IState> {\r\n  public state = {\r\n    email: \"\",\r\n    fbId: \"\",\r\n    firstName: \"\",\r\n    lastName: \"\"\r\n  };\r\n  public facebookMutation:\r\n    | MutationFn<facebookConnect, facebookConnectVariables>\r\n    | any;\r\n\r\n  public render() {\r\n    return (\r\n      <Mutation mutation={LOG_USER_IN}>\r\n        {logUserIn => (\r\n          <LoginMutation\r\n            mutation={FACEBOOK_CONNECT}\r\n            onCompleted={data => {\r\n              const { FacebookConnect } = data;\r\n              if (FacebookConnect.ok) {\r\n                if (FacebookConnect.token) {\r\n                  logUserIn({\r\n                    variables: {\r\n                      token: FacebookConnect.token\r\n                    }\r\n                  });\r\n                }\r\n                toast.success(\"You're verified, loggin in now\");\r\n              } else {\r\n                toast.error(FacebookConnect.error);\r\n              }\r\n            }}\r\n          >\r\n            {(facebookMutation, { loading }) => {\r\n              this.facebookMutation = facebookMutation;\r\n\r\n              return (\r\n                <SocialLoginPresenter loginCallback={this.loginCallback} />\r\n              );\r\n            }}\r\n          </LoginMutation>\r\n        )}\r\n      </Mutation>\r\n    );\r\n  }\r\n\r\n  public loginCallback = response => {\r\n    const { name, first_name, last_name, email, id, accessToken } = response;\r\n    if (accessToken) {\r\n      toast.success(`Welcome ${name}!`);\r\n      this.facebookMutation({\r\n        variables: {\r\n          email,\r\n          fbId: id,\r\n          firstName: first_name,\r\n          lastName: last_name\r\n        }\r\n      });\r\n    } else {\r\n      toast.error(\"Could not log you in 😥\");\r\n    }\r\n  };\r\n}\r\n\r\nexport default SocialLoginContainer;\r\n","import SocialLoginContainer from \"./SocialLoginContainer\";\r\nexport default SocialLoginContainer;\r\n","import React from \"react\";\r\nimport Helmet from \"react-helmet\";\r\nimport styled from \"src/typed-component\";\r\nimport Input from \"src/Components/Input\";\r\nimport Header from \"src/Components/Header\";\r\nimport Button from \"src/Components/Button\";\r\nimport Form from \"src/Components/Form\";\r\nimport { MutationFn } from \"react-apollo\";\r\nimport { verifyPhone, verifyPhoneVariables } from \"src/types/api\";\r\n\r\nconst Container = styled.div``;\r\n\r\nconst ExtendedForm = styled(Form)`\r\n  padding: 0px 40px;\r\n`;\r\n\r\nconst ExtendedInput = styled(Input)`\r\n  margin-bottom: 20px;\r\n`;\r\n\r\ninterface IProps {\r\n  verificationKey: string;\r\n  onChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n  onSubmit: MutationFn<verifyPhone, verifyPhoneVariables>;\r\n  loading: boolean;\r\n}\r\n\r\nconst VerifyPhonePresenter: React.FC<IProps> = ({\r\n  onChange,\r\n  verificationKey,\r\n  onSubmit,\r\n  loading\r\n}) => (\r\n  <Container>\r\n    <Helmet>\r\n      <title>Verify Phone | Number</title>\r\n    </Helmet>\r\n    <Header backTo={\"/phone-login\"} title={\"Verify Phone Number\"} />\r\n    <ExtendedForm submitFn={onSubmit}>\r\n      <ExtendedInput\r\n        value={verificationKey}\r\n        placeholder={\"Enter Verification Code\"}\r\n        onChange={onChange}\r\n        name={\"verificationKey\"}\r\n      />\r\n      <Button\r\n        disabled={loading}\r\n        value={loading ? \"Verifying\" : \"Submit\"}\r\n        onClick={null}\r\n      />\r\n    </ExtendedForm>\r\n  </Container>\r\n);\r\n\r\nexport default VerifyPhonePresenter;\r\n","import { gql } from \"apollo-boost\";\r\n\r\nexport const VERIFY_PHONE = gql`\r\n  mutation verifyPhone($key: String!, $phoneNumber: String!) {\r\n    CompletePhoneVerification(key: $key, phoneNumber: $phoneNumber) {\r\n      ok\r\n      error\r\n      token\r\n    }\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport VerifyPhonePresenter from \"./VerifyPhonePresenter\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport { Mutation } from \"react-apollo\";\r\nimport { verifyPhone, verifyPhoneVariables } from \"src/types/api\";\r\nimport { VERIFY_PHONE } from \"./VerifyPhoneQueries\";\r\nimport { toast } from \"react-toastify\";\r\nimport { LOG_USER_IN } from \"src/sharedQueries.local\";\r\n\r\ninterface IProps extends RouteComponentProps<any> {\r\n  location: any;\r\n}\r\ninterface IState {\r\n  verificationKey: string;\r\n  phoneNumber: string;\r\n}\r\n\r\nclass VerifyMutation extends Mutation<verifyPhone, verifyPhoneVariables> {}\r\n\r\nclass VerifyPhoneContainer extends React.Component<IProps, IState> {\r\n  constructor(props: IProps) {\r\n    super(props);\r\n    if (!props.location.state) {\r\n      props.history.push(\"/\");\r\n    }\r\n\r\n    this.state = {\r\n      verificationKey: \"\",\r\n      phoneNumber: props.location.state.phone\r\n    };\r\n  }\r\n\r\n  public onInputChange: React.ChangeEventHandler<HTMLInputElement> = event => {\r\n    const {\r\n      target: { name, value }\r\n    } = event;\r\n\r\n    this.setState({\r\n      [name]: value\r\n    } as any);\r\n  };\r\n\r\n  public render() {\r\n    const { verificationKey, phoneNumber } = this.state;\r\n    return (\r\n      <Mutation mutation={LOG_USER_IN}>\r\n        {logUserIn => (\r\n          <VerifyMutation\r\n            mutation={VERIFY_PHONE}\r\n            variables={{\r\n              key: verificationKey,\r\n              phoneNumber\r\n            }}\r\n            onCompleted={data => {\r\n              const { CompletePhoneVerification } = data;\r\n\r\n              if (CompletePhoneVerification.ok) {\r\n                if (CompletePhoneVerification.token) {\r\n                  logUserIn({\r\n                    variables: {\r\n                      token: CompletePhoneVerification.token\r\n                    }\r\n                  });\r\n                }\r\n                toast.success(\"You're verified, loggin in now\");\r\n                return;\r\n              } else {\r\n                toast.error(CompletePhoneVerification.error);\r\n              }\r\n            }}\r\n          >\r\n            {(mutation, { loading }) => (\r\n              <VerifyPhonePresenter\r\n                onSubmit={mutation}\r\n                onChange={this.onInputChange}\r\n                verificationKey={verificationKey}\r\n                loading={loading}\r\n              />\r\n            )}\r\n          </VerifyMutation>\r\n        )}\r\n      </Mutation>\r\n    );\r\n  }\r\n}\r\n\r\nexport default VerifyPhoneContainer;\r\n","import VerifyPhoneContainer from \"./VerifyPhoneContainer\";\r\nexport default VerifyPhoneContainer;\r\n","import React from \"react\";\r\nimport styled from \"../../typed-component\";\r\n\r\nconst Container = styled<{ mine: boolean }, any>(\"div\")`\r\n  background-color: ${(props) =>\r\n    props.mine ? props.theme.blueColor : props.theme.greyColor};\r\n  color: white;\r\n  padding: 10px 20px;\r\n  border-radius: 20px;\r\n  align-self: ${(props) => (props.mine ? \"flex-end\" : \"flex-start\")};\r\n  border-bottom-right-radius: ${(props) => (props.mine ? \"0px\" : \"20px\")};\r\n  border-bottom-left-radius: ${(props) => (!props.mine ? \"0px\" : \"20px\")};\r\n  margin-bottom: 10px;\r\n`;\r\n\r\ninterface IProps {\r\n  text: string;\r\n  mine: boolean;\r\n}\r\n\r\nconst Message: React.FC<IProps> = ({ text, mine }) => {\r\n  return <Container mine={mine}>{text}</Container>;\r\n};\r\n\r\nexport default Message;\r\n","import Message from \"./Message\";\r\nexport default Message;\r\n","import React from \"react\";\r\nimport Header from \"../../Components/Header\";\r\nimport styled from \"../../typed-component\";\r\nimport { getChat, userProfile } from \"src/types/api\";\r\nimport Message from \"src/Components/Message\";\r\nimport Input from \"src/Components/Input\";\r\nimport Form from \"src/Components/Form\";\r\n\r\nconst Container = styled.div``;\r\n\r\nconst Chat = styled.div`\r\n  height: 80vh;\r\n  overflow: scroll;\r\n  padding: 0 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n`;\r\n\r\nconst InputCont = styled.div`\r\n  padding: 0 2px;\r\n`;\r\n\r\ninterface IProps {\r\n  data?: getChat;\r\n  userData?: userProfile;\r\n  loading: boolean;\r\n  messageText: string;\r\n  onSubmit: () => void;\r\n  onInputChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n}\r\n\r\nconst ChatPresenter: React.FC<IProps> = ({\r\n  loading,\r\n  data: { GetChat: { chat = null } = {} } = {},\r\n  userData: { GetMyProfile: { user = null } = {} } = {},\r\n  messageText,\r\n  onSubmit,\r\n  onInputChange,\r\n}) => (\r\n  <Container>\r\n    <Header title={\"Chat\"} />\r\n    {!loading && chat && user && (\r\n      <React.Fragment>\r\n        <Chat>\r\n          {chat.messages &&\r\n            chat.messages.map((message) => {\r\n              if (message) {\r\n                return (\r\n                  <Message\r\n                    key={message.id}\r\n                    text={message.text}\r\n                    mine={user.id === message.userId}\r\n                  />\r\n                );\r\n              }\r\n              return null;\r\n            })}\r\n        </Chat>\r\n        <InputCont>\r\n          <Form submitFn={onSubmit}>\r\n            <Input\r\n              value={messageText}\r\n              placeholder={\"Type your message\"}\r\n              onChange={onInputChange}\r\n              name={\"message\"}\r\n            />\r\n          </Form>\r\n        </InputCont>\r\n      </React.Fragment>\r\n    )}\r\n  </Container>\r\n);\r\n\r\nexport default ChatPresenter;\r\n","import { gql } from \"apollo-boost\";\r\n\r\nexport const GET_CHAT = gql`\r\n  query getChat($chatId: Int!) {\r\n    GetChat(chatId: $chatId) {\r\n      ok\r\n      error\r\n      chat {\r\n        passengerId\r\n        driverId\r\n        messages {\r\n          id\r\n          text\r\n          userId\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const SEND_MESSAGE = gql`\r\n  mutation sendMessage($text: String!, $chatId: Int!) {\r\n    SendChatMessage(text: $text, chatId: $chatId) {\r\n      ok\r\n      error\r\n      message {\r\n        id\r\n        text\r\n        userId\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const SUBSCRIBE_TO_MESSAGES = gql`\r\n  subscription messageSubscription {\r\n    MessageSubscription {\r\n      id\r\n      text\r\n      userId\r\n    }\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport ChatPresenter from \"./ChatPresenter\";\r\nimport {\r\n  getChat,\r\n  getChatVariables,\r\n  userProfile,\r\n  sendMessage,\r\n  sendMessageVariables,\r\n} from \"../../types/api\";\r\nimport { Query, Mutation, MutationFn } from \"react-apollo\";\r\nimport { GET_CHAT, SEND_MESSAGE, SUBSCRIBE_TO_MESSAGES } from \"./ChatQuries\";\r\nimport { USER_PROFILE } from \"src/sharedQueries\";\r\nimport { SubscribeToMoreOptions } from \"apollo-boost\";\r\n\r\ninterface IProps extends RouteComponentProps<any> {}\r\ninterface IState {\r\n  message: \"\";\r\n}\r\n\r\nclass ProfileQuery extends Query<userProfile> {}\r\nclass ChatQuery extends Query<getChat, getChatVariables> {}\r\nclass SendMessageMutation extends Mutation<sendMessage, sendMessageVariables> {}\r\n\r\nclass ChatContainer extends React.Component<IProps, IState> {\r\n  public sendMessageFn: MutationFn<sendMessage, sendMessageVariables> | any;\r\n\r\n  constructor(props: IProps) {\r\n    super(props);\r\n    if (!props.match.params.chatId) {\r\n      props.history.push(\"/\");\r\n    }\r\n    this.state = {\r\n      message: \"\",\r\n    };\r\n  }\r\n\r\n  public onInputChange: React.ChangeEventHandler<HTMLInputElement> = (\r\n    event\r\n  ) => {\r\n    const {\r\n      target: { name, value },\r\n    } = event;\r\n\r\n    this.setState({\r\n      [name]: value,\r\n    } as any);\r\n  };\r\n\r\n  public onSubmit = () => {\r\n    const { message } = this.state;\r\n    const {\r\n      match: {\r\n        params: { chatId },\r\n      },\r\n    } = this.props;\r\n\r\n    if (message !== \"\") {\r\n      this.setState({\r\n        message: \"\",\r\n      });\r\n      this.sendMessageFn({\r\n        variables: {\r\n          text: message,\r\n          chatId,\r\n        },\r\n      });\r\n    }\r\n    return;\r\n  };\r\n\r\n  public render() {\r\n    const {\r\n      match: {\r\n        params: { chatId },\r\n      },\r\n    } = this.props;\r\n    const { message } = this.state;\r\n\r\n    return (\r\n      <ProfileQuery query={USER_PROFILE}>\r\n        {({ data: userData }) => (\r\n          <ChatQuery query={GET_CHAT} variables={{ chatId }}>\r\n            {({ data, loading, subscribeToMore }) => {\r\n              const subscribeToMoreOptions: SubscribeToMoreOptions = {\r\n                document: SUBSCRIBE_TO_MESSAGES,\r\n                updateQuery: (prev, { subscriptionData }) => {\r\n                  if (!subscriptionData.data) {\r\n                    return prev;\r\n                  }\r\n\r\n                  const {\r\n                    data: { MessageSubscription },\r\n                  } = subscriptionData;\r\n\r\n                  const {\r\n                    GetChat: {\r\n                      chat: { messages },\r\n                    },\r\n                  } = prev;\r\n                  const newMessageId = MessageSubscription.id;\r\n                  const latestMessageId = messages[messages.length - 1].id;\r\n\r\n                  if (newMessageId === latestMessageId) {\r\n                    return;\r\n                  }\r\n\r\n                  const newObject = Object.assign({}, prev, {\r\n                    GetChat: {\r\n                      ...prev.GetChat,\r\n                      chat: {\r\n                        ...prev.GetChat.chat,\r\n                        messages: [\r\n                          ...prev.GetChat.chat.messages,\r\n                          MessageSubscription,\r\n                        ],\r\n                      },\r\n                    },\r\n                  });\r\n                  return newObject;\r\n                },\r\n              };\r\n              subscribeToMore(subscribeToMoreOptions);\r\n\r\n              return (\r\n                <SendMessageMutation mutation={SEND_MESSAGE}>\r\n                  {(sendMessageFn) => {\r\n                    this.sendMessageFn = sendMessageFn;\r\n\r\n                    return (\r\n                      <ChatPresenter\r\n                        data={data}\r\n                        loading={loading}\r\n                        userData={userData}\r\n                        messageText={message}\r\n                        onInputChange={this.onInputChange}\r\n                        onSubmit={this.onSubmit}\r\n                      />\r\n                    );\r\n                  }}\r\n                </SendMessageMutation>\r\n              );\r\n            }}\r\n          </ChatQuery>\r\n        )}\r\n      </ProfileQuery>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ChatContainer;\r\n","import ChatContainer from \"./ChatContainer\";\r\nexport default ChatContainer;\r\n","import PropTypes from \"prop-types\";\r\nimport React from \"react\";\r\n\r\nimport { BrowserRouter, Redirect, Route, Switch } from \"react-router-dom\";\r\n\r\nimport AddPlace from \"../../Routes/AddPlace\";\r\nimport EditAccount from \"../../Routes/EditAccount\";\r\nimport FindAddress from \"../../Routes/FindAddress\";\r\nimport Home from \"../../Routes/Home\";\r\nimport Login from \"../../Routes/Login\";\r\nimport PhoneLogin from \"../../Routes/PhoneLogin\";\r\nimport Places from \"../../Routes/Places\";\r\nimport Ride from \"../../Routes/Ride\";\r\nimport Settings from \"../../Routes/Settings\";\r\nimport SocialLogin from \"../../Routes/SocialLogin\";\r\nimport VerifyPhone from \"../../Routes/VerifyPhone\";\r\nimport Chat from \"../../Routes/Chat\";\r\n\r\ninterface IProps {\r\n  isLoggedIn: boolean;\r\n}\r\n\r\nconst AppPresenter: React.FC<IProps> = ({ isLoggedIn }) => (\r\n  <BrowserRouter>\r\n    {isLoggedIn ? <LoggedInRoutes /> : <LoggedOutRoutes />}\r\n  </BrowserRouter>\r\n);\r\n\r\nconst LoggedOutRoutes: React.FC = () => (\r\n  <Switch>\r\n    <Route path={\"/\"} exact={true} component={Login} />\r\n    <Route path={\"/phone-login\"} component={PhoneLogin} />\r\n    <Route path={\"/verify-phone\"} component={VerifyPhone} />\r\n    <Route path={\"/social-login\"} component={SocialLogin} />\r\n    <Redirect from={\"*\"} to={\"/\"} />\r\n  </Switch>\r\n);\r\n\r\nconst LoggedInRoutes: React.FC = () => (\r\n  <Switch>\r\n    <Route path={\"/\"} exact={true} component={Home} />\r\n    <Route path={\"/ride/:rideId\"} exact={true} component={Ride} />\r\n    <Route path={\"/chat/:chatId\"} exact={true} component={Chat} />\r\n    <Route path={\"/edit-account\"} exact={true} component={EditAccount} />\r\n    <Route path={\"/settings\"} exact={true} component={Settings} />\r\n    <Route path={\"/places\"} exact={true} component={Places} />\r\n    <Route path={\"/add-place\"} exact={true} component={AddPlace} />\r\n    <Route path={\"/find-address\"} exact={true} component={FindAddress} />\r\n    <Redirect from={\"*\"} to={\"/\"} />\r\n  </Switch>\r\n);\r\n\r\nAppPresenter.propTypes = {\r\n  isLoggedIn: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default AppPresenter;\r\n","const theme = {\r\n  greenColor: \"#1abc9c\",\r\n  blueColor: \"#3498db\",\r\n  greyColor: \"#7f8c8d\",\r\n  yellowColor: \"#f1c40f\"\r\n};\r\n\r\nexport default theme;\r\n","import AppContainer from \"./AppContainer\";\r\nexport default AppContainer;\r\n","import React from \"react\";\r\nimport { graphql } from \"react-apollo\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport { IS_LOGGED_IN } from \"./AppQueries\";\r\nimport AppPresenter from \"./AppPresenter\";\r\nimport { ThemeProvider } from \"src/typed-component\";\r\nimport theme from \"../../theme\";\r\nimport \"react-toastify/dist/ReactToastify.min.css\";\r\n\r\nconst AppContainer = ({ data }: { data?: any }) => (\r\n  <React.Fragment>\r\n    <ThemeProvider theme={theme}>\r\n      <AppPresenter isLoggedIn={data.auth.isLoggedIn} />\r\n    </ThemeProvider>\r\n    <ToastContainer draggable={true} position={\"bottom-center\"} />\r\n  </React.Fragment>\r\n);\r\n\r\nexport default graphql(IS_LOGGED_IN)(AppContainer);\r\n","import reset from \"styled-reset\";\r\nimport { createGlobalStyle } from \"src/typed-component\";\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n    @import url('https://fonts.googleapis.com/css?family=Maven+Pro&display=swap');\r\n${reset}\r\n*{\r\n    bix-sizing:border-box;\r\n}\r\nbody{\r\n    font-family: -apple-system,system-ui,BlinkMacSystemFont,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial,sans-serif;\r\n}\r\na{\r\n    color:inherit;\r\n    text-decoration:none;\r\n}\r\ninput,\r\nbutton{\r\n    &:focus, \r\n    &:active{outline:none}\r\n}\r\nh1,h2,h3,h4,h5,h6{\r\n    font-family:'Maven Pro', sans-serif;\r\n}\r\n`;\r\n\r\nexport default GlobalStyle;\r\n","import React from \"react\";\nimport { ApolloProvider } from \"react-apollo\";\nimport ReactDOM from \"react-dom\";\nimport client from \"./apollo\";\nimport App from \"./Components/App\";\nimport GlobalStyle from \"./global-styles\";\n\nReactDOM.render(\n  <ApolloProvider client={client}>\n    <>\n      <GlobalStyle />\n      <App />\n    </>\n  </ApolloProvider>,\n  document.getElementById(\"root\")\n);\n","module.exports = __webpack_public_path__ + \"static/media/bg.f1662d11.png\";"],"sourceRoot":""}